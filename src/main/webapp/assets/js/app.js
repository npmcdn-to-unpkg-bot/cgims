webpackJsonp([2,0],[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var o=r(132),s=a(o),i=r(369),n=a(i),l=r(351),c=a(l),d=r(134),u=a(d),p=r(81);s["default"].use(n["default"]);var h=new n["default"];(0,u["default"])(h),(0,p.setRouter)(h),h.start(c["default"],"body")},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setOrderRegion=t.setRegion=t.toggleDialog=t.setActiveMenu=void 0;var a=r(22),o=r(1),s=r(47);t.setActiveMenu=function(e,t){var r=e.dispatch;r(a.SET_ACTIVE_MENU,t)},t.toggleDialog=function(e,t){var r=e.dispatch;r(a.TOGGLE_DIALOG,t)},t.setRegion=function(e){var t=e.dispatch;t(a.SET_REGION,window.__PROVINCES__)},t.setOrderRegion=function(e){var t=e.dispatch,r=(window.__PROVINCE_NAMES__||"").split(","),i={};r.length>0&&!function(){var e=s(window.__PROVINCES__);o(r,function(t){i[t]=e[t]})}(),t(a.SET_REGION,i)}},,function(e,t,r){"use strict";function a(e,t,r){var s=0;return o(e,function(e){if(!s)if(t.push({name:e.name,title:e.title}),e.name===r||e.contains&&~e.contains.indexOf(r))s=1;else{var o=e.sub;if(o&&o.length>0){var i=a(o,t,r);!i&&t.pop()}else t.pop()}}),s}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),s=r(47),i={statistics:"analysisManager",user:"userManager",role:"roleManager",order:"orderManager/orderView","user-order":"userOrderManager",worker:"orderManager/orderView/workmanManager/userOrderManager"},n={"/admin/user/add":"userManager","/admin/role/add":"roleManager","/admin/order/add":"orderManager","/admin/user/order/add":"userOrderManager","/admin/worker/add":"workmanManager"},l=function c(e,t,r){for(var a=e.length,s=function(){var s=a-1,i=e[s].name,l=!1;if(r[i]){var d=r[i].split("/");if(d.length>0&&o(d,function(e){l||(l=t[e])}),l){var u=e[s].sub;u&&c(u,t,n)}else e.splice(s,1)}a--};a;)s()};t.getSlider=function(e){var t=e.auth.permission,r=s(e.slider),a=r.menus;return l(a,t,i),r},t.getBreadCrumb=function(e){var t=e.slider,r=t.menus,o=t.active,s=[];return a(r,s,o),{menus:s,active:o}},t.isLogin=function(e){return e.auth.login},t.getRegion=function(e){return e.region.region},t.getDialog=function(e){return e.admin.dialog}},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getAuth=function(e){return e.auth},t.isLogin=function(e){return e.auth.login},t.getPermission=function(e){return e.auth.permission}},,,,function(e,t,r){var a,o;a=r(155),o=r(330),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(165),o=r(340),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},,,function(e,t,r){var a,o;r(225),a=r(161),o=r(336),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(178),s=a(o),i=r(59),n=a(i),l=r(2),c=r(36),d=r(81),u=r(323);u.base=window.__BASE_PATH__||"/",u.setDefaultOptions({responseType:"json"});var p=function(e){(0,l.toggleDialog)(n["default"],{content:e,show:!0,auto:!0,hasSuccessBtn:!1,hasCloseBtn:!1})};t["default"]={request:function(e){var t=e.url,r=e.method,a=void 0===r?"get":r,o=e.data,i=void 0===o?null:o,l=e.options,h=void 0===l?null:l,v=e.before,f=void 0===v?function(){}:v,g=new s["default"](function(e,r){u[a](t,i,h,f).then(function(t,a){if(1===a.status)e(a);else if(a.status===-2){p("请重新登录"),(0,c.clearAuth)(n["default"]);var o=(0,d.getRouter)();o.go("/login"),e(a)}else p(a.msg),r(a)})["catch"](function(e,t,a){var o=a&&a.msg||"操作失败，请稍后重试";p(o),r({msg:o,status:a&&a.status||-404,result:null})})});return g}}},,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_SLIDER="set_slider",t.SET_ACTIVE_MENU="set_active_menu",t.AUTH_LOGIN_SUCCESS="auth_login_success",t.AUTH_PERMISSION="auth_permission",t.AUTH_LOGOUT="login_out",t.AUTH_SLAVES="auth_slaves",t.TOGGLE_DIALOG="toggle_dialog",t.SET_REGION="set_region"},,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),o=(t.trim=function(e){a(e,function(t,r){"string"==typeof t&&(e[r]=t.trim())})},t.dateFormat=function(e){if(!e&&/\d+/.test(e))return"";var t=new Date;t.setTime(e);var r=t.getFullYear(),a=t.getMonth()+1,s=t.getDate();return r+"-"+o(a,2)+"-"+o(s,2)},t.repeat=function(e,t){return e+="",new Array(t-e.length+1).join("0")+e});t.isUndefined=function(e){return void 0===e}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setUserMode=t.saveUser=t.addRelSlave=t.deleteRelSlave=t.addRelRole=t.deleteRelRole=t.deleteUser=t.checkUser=t.clearUserDetail=t.showSelfUserDetail=t.showUserDetail=t.searchUser=void 0;var o=r(15),s=a(o),i=r(87),n=r(26),l=r(2),c="/user",d=t.searchUser=function(e,t){var r=e.dispatch,a=t.searchKeyword,o=void 0===a?"":a,n=t.curPage,l=void 0===n?1:n,d=t.pageSize,u=void 0===d?"":d,p=c+"?searchKeyword="+window.encodeURIComponent(o)+"&curPage="+l+"&pageSize="+u;return s["default"].request({url:p,method:"get"}).then(function(e){var t=e.result,a=e.result.datas.map(function(e){return e.checked=!1,e});r(i.RECEIVE_USE,{searchKeyword:o,list:a,pageInfo:{curPage:parseInt(t.curPage,10),pageSize:parseInt(t.pageSize,10),totalPage:parseInt(t.totalPage,10),total:parseInt(t.total,10)}})})};t.showUserDetail=function(e,t){var r=e.dispatch,a=c+"/"+t;return s["default"].request({method:"get",url:a}).then(function(e){r(i.RECEIVE_USER_DETAIL,e.result)})},t.showSelfUserDetail=function(e){var t=e.dispatch,r=c+"/self";s["default"].request({method:"get",url:r}).then(function(e){t(i.RECEIVE_USER_DETAIL,e.result)})},t.clearUserDetail=function(e){var t=e.dispatch;t(i.RECEIVE_USER_DETAIL,{id:"",name:"",loginName:"",phoneNum:"",identity:"",password:"",description:"",roles:[],slaves:[]})},t.checkUser=function(e,t,r){var a=e.dispatch;""===r?a(i.CHECK_ALL_USER,t):a(i.CHECK_USER,{checked:t,id:r})},t.deleteUser=function(e,t){var r=e.state,a=e.dispatch,o=c+"/batch",n=[],l=r.user;void 0===t?l.list.forEach(function(e){e.checked&&n.push(e.id)}):n.push(t),s["default"].request({url:o,method:"post",data:{ids:n.join(",")}}).then(function(e){a(i.DELETE_USER,n),d({dispatch:a},{searchKeyword:l.searchKeyword,curPage:l.pageInfo.curPage})})},t.deleteRelRole=function(e,t){var r=e.dispatch;r(i.DELETE_USER_REL_ROLE,t)},t.addRelRole=function(e,t){var r=e.dispatch;r(i.ADD_USER_REL_ROLE,t)},t.deleteRelSlave=function(e,t){var r=e.dispatch;r(i.DELETE_USER_REL_SLAVE,t)},t.addRelSlave=function(e,t){var r=e.dispatch;r(i.ADD_USER_REL_SLAVE,t)},t.saveUser=function(e,t,r,a){var o=a?"/user/self":c+(t.id?"/"+t.id:""),i=t.roles.map(function(e){return e.id})||[],d=t.slaves.map(function(e){return e.id})||[];return r.roleIds=i.join(","),r.slaveIds=d.join(","),(0,n.trim)(r),s["default"].request({method:"post",url:o,data:r}).then(function(){(0,l.toggleDialog)(e,{show:!0,content:"用户保存成功"})})},t.setUserMode=function(e,t){var r=e.dispatch;r(i.SET_USER_MODE,t||"query")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getUsers=function(e){return{searchKeyword:e.user.searchKeyword,list:e.user.list,pageInfo:e.user.pageInfo}},t.getDetailUser=function(e){return e.user.detail},t.getCheckAll=function(e){return e.user.checkAll},t.getUIOptions=function(e){return e.user.ui.mode},t.hasCheck=function(e){return e.user.list.some(function(e){return e.checked})}},,,,,,,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.clearAuth=t.logout=t.setPermission=t.resolveLogin=t.login=void 0;var o=r(22),s=r(15),i=a(s),n=r(1),l="/user",c=(t.login=function(e,t){var r=t.loginName,a=t.password,o=l+"/login";return i["default"].request({method:"post",url:o,data:{loginName:r,password:a}}).then(function(t){c(e,t.result)})},t.resolveLogin=function(e,t){var r=e.dispatch,a=(e.state,t.userId),s=t.userName,i=t.permissionCodes,l=t.slaveNames,c=t.slaveIds,u=[],p=l&&l.split(",")||[],h=c&&c.split(",")||[];n(h,function(e,t){u.push({name:p[t],id:e})});var v={login:!0,name:s,id:a,slaves:u};r(o.AUTH_LOGIN_SUCCESS,v),d({dispatch:r},i)}),d=t.setPermission=function(e,t){var r=e.dispatch;t&&!function(){var e=t.split(","),a={};n(e,function(e){a[e.trim()]=!0}),r(o.AUTH_PERMISSION,a)}()},u=(t.logout=function(e){u(e);var t="/user/logout";i["default"].request({url:t,method:"post"})},t.clearAuth=function(e){var t=e.dispatch;window.__LOGIN_USER__=null,t(o.AUTH_LOGOUT)})},,,,,,,,,,,,,,,function(e,t,r){var a,o;r(226),a=r(163),o=r(338),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={filters:{orgPicture:function(e){return"loading"!==e&&""!==e&&e?~e.lastIndexOf("@")?e.substring(0,e.lastIndexOf("@")):e:"javascript:void(0)"}},methods:{isNumber:function(e){return/^\d+$/.test(e)},isFloatNumber:function(e){return/^\d*\.?\d*$/.test(e)},isPhoneNumber:function(e){return/^\d{11}$/.test(e)}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dealOrderImage=t.setOrder=t.updateOrderComment=t.setOrderPersonal=t.setOrderMode=t.saveOrder=t.dealOrder=t.checkOrder=t.clearOrderDetail=t.showOrderDetail=t.searchOrder=t.setOrders=void 0;var o=r(15),s=a(o),i=r(83),n=r(26),l=r(2),c=r(1),d=r(47),u=function(e,t){return e.order.ui.personal?"/user/"+t+"/order":"/order"},p=t.setOrders=function(e){var t=e.dispatch,r=arguments.length<=1||void 0===arguments[1]?{list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}}:arguments[1];t(i.RECEIVE_ORDER,r)},h=t.searchOrder=function(e,t){var r=e.dispatch,a=e.state,o=t.search,i=void 0===o?{searchKeyword:"",orderStatus:"",serviceType:"",creatorId:"",beginTime:"",endTime:"",url:""}:o,l=t.curPage,c=void 0===l?1:l,d=i.searchKeyword||"",h=i.orderStatus||"",v=i.serviceType||"",f=i.creatorId||"",g=i.beginTime||"",m=i.endTime||"",b=(i.url||u(a,f))+"?searchKeyword="+window.encodeURIComponent(d)+"&orderStatus="+window.encodeURIComponent(h)+"&serviceType="+window.encodeURIComponent(v)+"&beginTime="+window.encodeURIComponent(g)+"&endTime="+window.encodeURIComponent(m)+"&curPage="+c;return b+=a.order.ui.personal?"":"&creatorId="+window.encodeURIComponent(f),delete i.url,s["default"].request({url:b,method:"get"}).then(function(e){var t=e.result,a=t.datas.map(function(e){return e.isChecked=!1,e.createDate=e.createDate&&(0,n.dateFormat)(e.createDate),e.completeDate=e.completeDate&&(0,n.dateFormat)(e.completeDate),e.user=e.user||{id:""},e.workman=e.workman||{},e});p({dispatch:r},{search:i,list:a,pageInfo:{curPage:parseInt(t.curPage,10),pageSize:parseInt(t.pageSize,10),totalPage:parseInt(t.totalPage,10),total:parseInt(t.total,10)}})},function(){p({dispatch:r},{search:i})})},v=function(e){return e?e.split(","):[]},f=(t.showOrderDetail=function(e,t,r){var a=e.dispatch,o=e.state,l=u(o,r)+"/"+t;return s["default"].request({method:"get",url:l}).then(function(e){var t=e.result;t.repairImgs=v(t.repairImgs),t.logisticsImgs=v(t.logisticsImgs),t.productImgs=v(t.productImgs),t.checked=!!t.checked,t.createDate=t.createDate&&(0,n.dateFormat)(t.createDate),t.completeDate=t.completeDate&&(0,n.dateFormat)(t.completeDate),t.user=t.user||{name:""},t.workman=t.workman||{},a(i.RECEIVE_ORDER_DETAIL,e.result)})},t.clearOrderDetail=function(e){var t=e.dispatch;t(i.RECEIVE_ORDER_DETAIL,{orderNumber:"",orderStatus:"未收未付",serviceType:"配送安装",customerName:"",customerPhoneNum:"",customerTel:"",customerAddress:"",productInfo:"",logisticsInfo:"",repairInfo:"",profit:"",servicePrice:"",orderPrice:"",checked:!1,checkInfo:"",shopInfo:"",qq:"",priceChangeReason:"",judgeReason:"",description:"",createDate:"",completeDate:"",judgment:0,repairImgs:[],logisticsImgs:[],productImgs:[],workman:{},user:{name:""}})},t.checkOrder=function(e,t,r){var a=e.dispatch;""===r?a(i.CHECK_ALL_ORDER,t):a(i.CHECK_ORDER,{checked:t,id:r})},t.dealOrder=function(e,t){var r=e.state,a=e.dispatch,o=t.id,n=t.action,l=t.orderStatus,c=t.creatorId,d=u(r,c)+"/batch",p=[],v=r.order,f={action:n};void 0===o?v.list.forEach(function(e){e.isChecked&&p.push(e.id)}):p.push(o),"update"===n&&(f.orderStatus=l),f.ids=p.join(","),s["default"].request({url:d,method:"post",data:f}).then(function(e){"delete"===n&&a(i.DELETE_ORDER,p),h({dispatch:a,state:r},{search:v.search,curPage:v.pageInfo.curPage})})},t.saveOrder=function(e,t){var r=e.state,a=e.dispatch,o=d(t||r.order.detail)||{};return c(["repairImgs","logisticsImgs","productImgs"],function(e){var t=(o[e]||[]).filter(function(e){return""!==e&&"loading"!==e});o[e]=t.join(",")}),o.creatorId=o.user&&o.user.id,o.workmanId=o.workman&&o.workman.id,delete o.isChecked,delete o.workman,f({state:r,dispatch:a},o)},function(e,t){var r=e.state,a=e.dispatch,o=t.id,i=r.order.ui.personal?t.creatorId||r.auth.id:"",c=u(r,i)+(o?"/"+o:"");return delete t.user,(0,n.trim)(t),s["default"].request({method:"post",url:c,data:t}).then(function(){(0,l.toggleDialog)({state:r,dispatch:a},{show:!0,content:"订单保存成功",hasSuccessBtn:!1,hasCloseBtn:!1})})});t.setOrderMode=function(e,t){var r=e.dispatch;r(i.SET_ORDER_MODE,t||"query")},t.setOrderPersonal=function(e,t){var r=e.dispatch;r(i.SET_ORDER_PERSONAL,t)},t.updateOrderComment=function(e,t){var r=e.dispatch,a=e.state,o=t.id,s=t.description,n=a.order.list;c(n,function(e,t){if(e.id===o){var n=d(e);return n.creatorId=n.user&&n.user.id||"",n.workmanId=n.workman&&n.workman.id||"",delete n.isChecked,delete n.workman,n.description=s,f({state:a,dispatch:r},n).then(function(e){r(i.UPDATE_ORDER_DESCRIPTION,{idx:t,description:s})}).then(function(){h({dispatch:r,state:a},{search:a.order.search,curPage:a.order.pageInfo.curPage})})}})},t.setOrder=function(e,t){var r=(e.state,e.dispatch);r(i.SET_ORDER,t)},t.dealOrderImage=function(e,t){var r=e.state,a=e.dispatch,o=t.key,s=t.src,n=t.type,l=t.idx,c=d(r.order.detail[o]||[]);"del"===n?c.splice(s,1,""):"loading"===s?l>=c.length?c[l]=s:c.splice(l,0,s):c[l]=s;var u={};u[o]=c,a(i.SET_ORDER,u)}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setRoleMode=t.saveRole=t.addRelPermission=t.deleteRelPermission=t.deleteRole=t.checkRole=t.clearRoleDetail=t.showRoleDetail=t.searchRole=void 0;var o=r(15),s=a(o),i=r(85),n=r(26),l=r(2),c="/role",d=t.searchRole=function(e,t){var r=e.dispatch,a=t.searchKeyword,o=void 0===a?"":a,n=t.curPage,l=void 0===n?1:n,d=c+"?searchKeyword="+window.encodeURIComponent(o)+"&curPage="+l;return s["default"].request({url:d,method:"get"}).then(function(e){var t=e.result,a=e.result.datas.map(function(e){return e.checked=!1,e});r(i.RECEIVE_ROLE,{searchKeyword:o,list:a,pageInfo:{curPage:parseInt(t.curPage,10),pageSize:parseInt(t.pageSize,10),totalPage:parseInt(t.totalPage,10),total:parseInt(t.total,10)}})})};t.showRoleDetail=function(e,t){var r=e.dispatch,a=c+"/"+t;s["default"].request({method:"get",url:a}).then(function(e){r(i.RECEIVE_ROLE_DETAIL,e.result)})},t.clearRoleDetail=function(e){var t=e.dispatch;t(i.RECEIVE_ROLE_DETAIL,{id:"",name:"",description:"",permissions:[]})},t.checkRole=function(e,t,r){var a=e.dispatch;""===r?a(i.CHECK_ALL_ROLE,t):a(i.CHECK_ROLE,{checked:t,id:r})},t.deleteRole=function(e,t){var r=e.state,a=e.dispatch,o=c+"/batch",n=[],l=r.role;void 0===t?l.list.forEach(function(e){e.checked&&n.push(e.id)}):n.push(t),s["default"].request({url:o,method:"post",data:{ids:n.join(",")}}).then(function(e){a(i.DELETE_ROLE,n),d({dispatch:a},{searchKeyword:l.searchKeyword,curPage:l.pageInfo.curPage})})},t.deleteRelPermission=function(e,t){var r=e.dispatch;r(i.DELETE_ROLE_REL_PERMISSION,t)},t.addRelPermission=function(e,t){var r=e.dispatch;r(i.ADD_ROLE_REL_PERMISSION,t)},t.saveRole=function(e,t,r){var a=e.state,o=e.dispatch,i=t.id?"/"+t.id:"",d=c+i,u=t.permissions.map(function(e){return e.id})||[];return r.permissionIds=u.join(","),(0,n.trim)(r),s["default"].request({method:"post",url:d,data:r}).then(function(){(0,l.toggleDialog)({state:a,dispatch:o},{show:!0,content:"角色保存成功"})})},t.setRoleMode=function(e,t){var r=e.dispatch;r(i.SET_ROLE_MODE,t||"query")}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setWorkerMode=t.setWorker=t.saveWorker=t.deleteWorker=t.checkWorker=t.clearWorkerDetail=t.showWorkerDetail=t.setWorkers=t.searchWorker=void 0;var o=r(175),s=a(o),i=r(15),n=a(i),l=r(88),c=r(26),d=r(2),u="/workman",p=r(1),h=r(47),v=t.searchWorker=function(e,t){var r=e.dispatch,a=t.search,o=void 0===a?{searchKeyword:"",region:"",serverType:""}:a,s=t.curPage,i=void 0===s?1:s,c=(o.region||"").split("/"),d=u+"?searchKeyword="+window.encodeURIComponent(o.searchKeyword||"")+"&province="+window.encodeURIComponent(c[0]||"")+"&city="+window.encodeURIComponent(c[1]||"")+"&area="+window.encodeURIComponent(c[2]||"")+"&serviceType="+window.encodeURIComponent(o.serverType||"")+"&curPage="+i;n["default"].request({url:d,method:"get"}).then(function(e){var t=e.result,a=t.datas.map(function(e){return e.checked=!1,e.score=e.score&&new window.Number(e.score).toFixed(2)||0,e});r(l.RECEIVE_WORKER,{search:o,list:a,pageInfo:{curPage:parseInt(t.curPage,10),pageSize:parseInt(t.pageSize,10),totalPage:parseInt(t.totalPage,10),total:parseInt(t.total,10)}})})},f=(t.setWorkers=function(e){var t=e.dispatch,r=arguments.length<=1||void 0===arguments[1]?{list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}}:arguments[1];t(l.RECEIVE_WORKER,r)},[{label:"家具类",name:"furnitureType"},{label:"灯具类",name:"stoolType"},{label:"卫浴类",name:"lightType"},{label:"门窗五金",name:"metalsType"},{label:"家电",name:"householdType"}]);t.showWorkerDetail=function(e,t){var r=e.dispatch,a=u+"/"+t;return n["default"].request({method:"get",url:a}).then(function(e){var t=e.result;if(t){t.receiveType=t.receiveType&&parseInt(t.receiveType,10),t.birthday=t.birthday&&(0,c.dateFormat)(t.birthday)||"",t.tonnage=t.tonnage&&new window.Number(t.tonnage).toFixed(2)||0;var a=t.serviceItems;a&&!function(){var e=JSON.parse(a);p(f,function(r){var a=r.label,o=r.name,s=e[a];t[o]=s?s.split(","):[]})}()}return r(l.RECEIVE_WORKER_DETAIL,t),!0})},t.clearWorkerDetail=function(e){var t=e.dispatch;t(l.RECEIVE_WORKER_DETAIL,{workmanNumber:"",name:"",phoneNum:"",qq:"",alipayAccount:"",bank:"",cardNum:"",birthday:"",receiveType:0,servicePrice:0,orderPrice:0,province:"",city:"",area:"",headImg:"",address:"",truckNum:"",tonnage:"",teamPeopleNum:"",willingPickAddress:"",alipayAccountName:"",bankCardName:"",logistics:"",strength:"",cooperateTimes:0,score:0,idCardFace:"",idCardBack:"",serviceType:"",serviceArea:"",furnitureType:[],stoolType:[],lightType:[],metalsType:[],householdType:[],description:""})},t.checkWorker=function(e,t,r){var a=e.dispatch;""===r?a(l.CHECK_ALL_WORKER,t):a(l.CHECK_WORKER,{checked:t,id:r})},t.deleteWorker=function(e,t){var r=e.state,a=e.dispatch,o=u+"/batch",s=[],i=r.worker;void 0===t?i.list.forEach(function(e){e.checked&&s.push(e.id)}):s.push(t),n["default"].request({url:o,method:"post",data:{ids:s.join(",")}}).then(function(e){a(l.DELETE_WORKER,s),v({dispatch:a},{search:i.search,curPage:i.pageInfo.curPage})})},t.saveWorker=function(e){var t=e.state,r=e.dispatch,a=h(t.worker.detail||{}),o=u+(a.id?"/"+a.id:""),i={};return p(f,function(e,t){var r=e.name;i[e.label]=a[r]&&a[r].join(",")||"",delete a[r]}),p(["idCardFace","idCardBack","headImg"],function(e){var t=a[e];a[e]="loading"===t?"":t}),""===a.city&&(a.serviceArea=""),a.serviceItems=(0,s["default"])(i),a.cardNum=a.cardNum&&a.cardNum.replace(/([^\d])+/g,""),0===a.receiveType?(a.bank="",a.cardNum="",a.bankCardName=""):(a.alipayAccount="",a.alipayAccountName=""),(0,c.trim)(a),n["default"].request({method:"post",url:o,data:a}).then(function(){(0,d.toggleDialog)({state:t,dispatch:r},{show:!0,content:"师傅保存成功"})})},t.setWorker=function(e,t){var r=(e.state,e.dispatch);r(l.SET_WORKER,t)},t.setWorkerMode=function(e,t){var r=e.dispatch;r(l.SET_WORKER_MODE,t||"query")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getOrders=function(e){return{search:e.order.search,list:e.order.list,pageInfo:e.order.pageInfo}},t.getDetailOrder=function(e){return e.order.detail},t.getCheckAll=function(e){return e.order.checkAll},t.getUIOptions=function(e){return e.order.ui.mode},t.isPersonal=function(e){return e.order.ui.personal},t.getOrderStatus=function(e){return["未收未付","已收未付","未收需付","已收需付","未收失败","未收完成","已收未完","已收完成","未收未完","已收待退","已收失败"]},t.getBaseUrl=function(e){return e.order.ui.personal?"/user/"+e.auth.id+"/order":"/order"},t.hasCheck=function(e){return e.order.list.some(function(e){return e.isChecked})},t.getSlaves=function(e){return e.auth.slaves}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getRoles=function(e){return{searchKeyword:e.role.searchKeyword,list:e.role.list,pageInfo:e.role.pageInfo}},t.getDetailRole=function(e){return e.role.detail},t.getCheckAll=function(e){return e.role.checkAll},t.getUIOptions=function(e){return e.role.ui.mode},t.hasCheck=function(e){return e.role.list.some(function(e){return e.checked})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getWorkers=function(e){return{search:e.worker.search,list:e.worker.list,pageInfo:e.worker.pageInfo}},t.getDetailWorker=function(e){return e.worker.detail},t.getCheckAll=function(e){return e.worker.checkAll},t.getUIOptions=function(e){return e.worker.ui.mode},t.hasCheck=function(e){return e.worker.list.some(function(e){return e.checked})}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(132),s=a(o),i=r(370),n=a(i),l=r(144),c=a(l),d=r(139),u=a(d),p=r(146),h=a(p),v=r(143),f=a(v),g=r(147),m=a(g),b=r(140),y=a(b),k=r(142),_=a(k),w=r(141),E=a(w),x=r(145),R=a(x),S=r(138),O=a(S);s["default"].use(n["default"]),t["default"]=new n["default"].Store({modules:{slider:c["default"],auth:u["default"],user:h["default"],role:f["default"],permission:E["default"],worker:m["default"],region:_["default"],order:y["default"],statistic:R["default"],admin:O["default"]},plugins:[]})},,,,,,,,,,,,,,,,,,,,,function(e,t,r){var a,o;a=r(162),o=r(337),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=null;t.setRouter=function(e){r=e},t.getRouter=function(){return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=arguments,o=r(1),s=r(78),i=t.cssStyle=function(e){return window.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle},n=["Webkit","moz","o","ms"],l=function(e,t){if(t[e])return e;var r=e.substr(0,1).toUpperCase()+e.substr(1),a=e;return o(n,function(o){e=o+r,void 0!==t[e]&&(a=e)}),a};t.css=function(e,t){if(e&&1!==e.nodeType)return"";if(a.length<2)throw new Error("必须传入两个参数");var r=e.style;return s(t)?i(e)[t]:void o(t,function(e,t){t=l(t,r),r[t]=e})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_REQUEST_ORDER="start_request_order",t.END_REQUEST_ORDER="end_request_order ",t.RECEIVE_ORDER="receive_order",t.CHECK_ALL_ORDER="check_all_order",t.CHECK_ORDER="check_order",t.DELETE_ORDER="delete_order",t.RECEIVE_ORDER_DETAIL="receive_order_detail",t.DELETE_ORDER_REL_WORKER="delete_order_rel_worker",t.ADD_ORDER_REL_WORKER="add_order_rel_worker",t.UPDATE_ORDER_DESCRIPTION="update_order_description",t.SET_ORDER="set_order",t.SET_ORDER_MODE="set_order_mode",t.SET_ORDER_PERSONAL="set_order_personal"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_REQUEST_PERMISSION="start_request_permission",t.END_REQUEST_PERMISSION="end_request_permission ",t.RECEIVE_PERMISSION="receive_permission"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_REQUEST_ROLE="start_request_role",t.END_REQUEST_ROLE="end_request_role ",t.RECEIVE_ROLE="receive_role",t.CHECK_ALL_ROLE="check_all_role",t.CHECK_ROLE="check_role",t.DELETE_ROLE="delete_role",t.RECEIVE_ROLE_DETAIL="receive_role_detail",t.DELETE_ROLE_REL_PERMISSION="delete_role_rel_permission",t.ADD_ROLE_REL_PERMISSION="add_role_rel_permission",t.SET_ORDER="set_order",t.SET_ROLE_MODE="set_role_mode"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_SEARCH="set_search",t.RECEIVE_VALUE="receive_value",t.REQUEST_STATE="request_state"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_REQUEST_USER="start_request_user",t.END_REQUEST_USER="end_request_user ",t.RECEIVE_USE="receive_user",t.CHECK_ALL_USER="check_all_user",t.CHECK_USER="check_user",t.DELETE_USER="delete_user",t.RECEIVE_USER_DETAIL="receive_user_detail",t.DELETE_USER_REL_ROLE="delete_user_rel_role",t.ADD_USER_REL_ROLE="add_user_rel_role",t.DELETE_USER_REL_SLAVE="delete_user_rel_slave",t.ADD_USER_REL_SLAVE="add_user_rel_slave",t.SET_USER_MODE="set_user_mode"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.START_REQUEST_WORKER="start_request_worker",t.END_REQUEST_WORKER="end_request_worker ",t.RECEIVE_WORKER="receive_worker",t.CHECK_ALL_WORKER="check_all_worker",t.CHECK_WORKER="check_worker",t.DELETE_WORKER="delete_worker",t.RECEIVE_WORKER_DETAIL="receive_worker_detail",t.SET_WORKER="set_worker",t.SET_WORKER_MODE="set_worker_mode"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){var a,o;a=r(158),o=r(333),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},,,function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),s=a(o),i=r(350),n=a(i),l=r(352),c=a(l),d=r(366),u=a(d),p=r(365),h=a(p),v=r(363),f=a(v),g=r(362),m=a(g),b=r(364),y=a(b),k=r(368),_=a(k),w=r(367),E=a(w),x=r(361),R=a(x),S=r(360),O=a(S),P=r(357),T=a(P),A=r(59),I=a(A),D=r(6),C=r(2),U=r(36),M="/login";t["default"]=function(e){e.map((0,s["default"])({"/admin":{component:n["default"],subRoutes:{"/":{component:{template:""}},"/user":{name:"/admin/user",component:u["default"]},"/user/add":{name:"/admin/user/add",component:h["default"]},"/user/self":{name:"/admin/user/self",component:h["default"]},"/user/:id":{name:"/admin/user/:id",component:h["default"]},"/role":{name:"/admin/role",component:f["default"]},"/role/add":{name:"/admin/role/add",component:m["default"]},"/role/:id":{name:"/admin/role/:id",component:m["default"]},"/worker":{name:"/admin/worker",component:_["default"]},"/worker/add":{name:"/admin/worker/add",component:E["default"]},"/worker/:id":{name:"/admin/worker/:id",component:E["default"]},"/statistic":{name:"/admin/statistic",component:y["default"]},"/order":{name:"/admin/order",component:R["default"]},"/order/add":{name:"/admin/order/add",component:O["default"]},"/order/:id":{name:"/admin/order/:id",component:O["default"]},"/user/order":{name:"/admin/user/order",component:R["default"]},"/user/order/add":{name:"/admin/user/order/add",component:O["default"]},"/user/order/:id":{name:"/admin/user/order/:id",component:O["default"]},"/forbidden":{name:"/admin/forbidden",component:T["default"]}}}},M,{component:c["default"]})),e.redirect({"*":"/admin"}),e.beforeEach(function(e){var t=(0,D.isLogin)(I["default"].state);!t&&window.__LOGIN_USER__&&((0,U.resolveLogin)(I["default"],window.__LOGIN_USER__),t=(0,D.isLogin)(I["default"].state));var r=e.to.path;if(~r.indexOf(M))t&&e.redirect("/admin");else if(!t)return void e.redirect(M);var a=e.to;(0,C.setActiveMenu)(I["default"],a.name),e.next()})}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(181),s=a(o);t["default"]=function(e,t){if(!/^javas/.test(e)&&e){var r="object"===("undefined"==typeof e?"undefined":(0,s["default"])(e))||"string"==typeof e&&!/^http/.test(e);r?t.go(e):window.location.href=e}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.searchPermission=void 0;var o=r(15),s=a(o),i=r(84),n="/permission";t.searchPermission=function(e,t){var r=e.dispatch,a=t.searchKeyword,o=void 0===a?"":a,l=t.curPage,c=void 0===l?1:l,d=n+"?searchKeyword="+window.encodeURIComponent(o)+"&curPage="+c;s["default"].request({url:d,method:"get"}).then(function(e){var t=e.result;r(i.RECEIVE_PERMISSION,{searchKeyword:o,list:t.datas,pageInfo:{curPage:parseInt(t.curPage,10),pageSize:parseInt(t.pageSize,10),totalPage:parseInt(t.totalPage,10),total:parseInt(t.total,10)}})})}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.startStatistic=t.setSearch=void 0;var o=r(86),s=r(15),i=a(s),n="/analysis",l=(t.setSearch=function(e,t){var r=e.dispatch;t.searchType&&r(o.RECEIVE_VALUE,""),r(o.SET_SEARCH,t)},function(e){return window.encodeURIComponent(e)});t.startStatistic=function(e){var t=e.state.statistic.search,r=e.dispatch,a=n+"/"+l(t.searchType)+"?creatorId="+l(t.creatorId)+"&serviceType="+l(t.serviceType)+"&beginTime="+l(t.beginTime)+"&endTime="+l(t.endTime);return r(o.REQUEST_STATE,!1),i["default"].request({method:"get",url:a}).then(function(e){r(o.RECEIVE_VALUE,"profitMargin"===t.searchType?new window.Number(100*e.result).toFixed(2):e.result),r(o.REQUEST_STATE,!0)},function(){r(o.REQUEST_STATE,!0)})}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),s=a(o),i=r(22),n=r(1),l={dialog:{title:"提示",content:"",hasSuccessBtn:!1,hasCloseBtn:!1,show:!1,auto:!0,success:function(){},close:function(){}}},c=(0,s["default"])({},i.TOGGLE_DIALOG,function(e,t){e.dialog.show=!1,e.dialog.auto=!0,e.dialog.hasSuccessBtn=!1,e.dialog.hasCloseBtn=!1,e.dialog.success=function(){},e.dialog.close=function(){},n(t,function(t,r){e.dialog[r]=t})});t["default"]={state:l,mutations:c}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(7),i=a(s),n=r(22),l=r(1),c={login:!1,name:"",id:"",slaves:[],permission:{roleManager:!1,userManager:!1,orderManager:!1,orderView:!1,userOrderManager:!1,workmanManager:!1,analysisManager:!1}},d=(o={},(0,i["default"])(o,n.AUTH_SLAVES,function(e,t){e.slaves=t}),(0,i["default"])(o,n.AUTH_LOGIN_SUCCESS,function(e,t){l(t,function(t,r){e[r]=t})}),(0,i["default"])(o,n.AUTH_PERMISSION,function(e,t){l(t,function(t,r){e.permission[r]=t})}),(0,i["default"])(o,n.AUTH_LOGOUT,function(e){e.id="",e.name="",e.login=!1,e.slaves=[],l(e.permission,function(t,r){e.permission[r]=!1})}),o);t["default"]={state:c,mutations:d}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(7),i=a(s),n=r(83),l={search:{},ui:{mode:"query",personal:!1},checkAll:!1,detail:{servicePrice:0,orderPrice:0,profit:0,judgment:0,orderStatus:"未收未付",serviceType:"配送安装",checked:!0,repairImgs:[],logisticsImgs:[],productImgs:[],workman:{},user:{name:""}},list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}},c=r(48),d=r(1),u=(o={},(0,i["default"])(o,n.RECEIVE_ORDER,function(e,t){d(t,function(t,r){e[r]=t})}),(0,i["default"])(o,n.CHECK_ALL_ORDER,function(e,t){e.checkAll=t,e.list=e.list.map(function(e){return e.isChecked=t,e})}),(0,i["default"])(o,n.CHECK_ORDER,function(e,t){var r=t.checked,a=t.id,o=c(e.list,{
id:a});if(~o){var s=e.list[o];s.isChecked=r,e.list[o]=s}}),(0,i["default"])(o,n.DELETE_ORDER,function(e,t){e.list=e.list.filter(function(e){return t.indexOf(e.id)===-1})}),(0,i["default"])(o,n.RECEIVE_ORDER_DETAIL,function(e,t){e.detail=t}),(0,i["default"])(o,n.DELETE_ORDER_REL_WORKER,function(e,t){var r=e.detail.workers,a=c(r,{id:t});~a&&r.splice(a,1)}),(0,i["default"])(o,n.ADD_ORDER_REL_WORKER,function(e,t){var r=e.detail.workers,a=c(r,{id:t.id});a===-1&&r.push(t)}),(0,i["default"])(o,n.SET_ORDER_MODE,function(e,t){e.ui.mode=t}),(0,i["default"])(o,n.SET_ORDER_PERSONAL,function(e,t){e.ui.personal=!!t}),(0,i["default"])(o,n.UPDATE_ORDER_DESCRIPTION,function(e,t){var r=t.description,a=t.idx;e.list[a].description=r}),(0,i["default"])(o,n.SET_ORDER,function(e,t){d(t,function(t,r){e.detail[r]=t})}),o);t["default"]={state:l,mutations:u}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),s=a(o),i=r(84),n={searchKeyword:"",checkAll:!1,detail:{},list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}},l=(0,s["default"])({},i.RECEIVE_PERMISSION,function(e,t){var r=t.list,a=t.pageInfo,o=t.searchKeyword;e.searchKeyword=o,e.list=r,e.pageInfo=a});t["default"]={state:n,mutations:l}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),s=a(o),i=r(22),n={region:{}},l=(0,s["default"])({},i.SET_REGION,function(e,t){e.region=t});t["default"]={state:n,mutations:l}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(7),i=a(s),n=r(85),l={ui:{mode:"query"},searchKeyword:"",checkAll:!1,detail:{permissions:[]},list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}},c=r(48),d=(o={},(0,i["default"])(o,n.RECEIVE_ROLE,function(e,t){var r=t.list,a=t.pageInfo,o=t.searchKeyword;e.searchKeyword=o,e.list=r,e.pageInfo=a}),(0,i["default"])(o,n.CHECK_ALL_ROLE,function(e,t){e.checkAll=t,e.list=e.list.map(function(e){return e.checked=t,e})}),(0,i["default"])(o,n.CHECK_ROLE,function(e,t){var r=t.checked,a=t.id,o=c(e.list,{id:a});if(~o){var s=e.list[o];s.checked=r,e.list[o]=s}}),(0,i["default"])(o,n.DELETE_ROLE,function(e,t){e.list=e.list.filter(function(e){return t.indexOf(e.id)===-1})}),(0,i["default"])(o,n.RECEIVE_ROLE_DETAIL,function(e,t){e.detail=t}),(0,i["default"])(o,n.DELETE_ROLE_REL_PERMISSION,function(e,t){var r=e.detail.permissions,a=c(r,{id:t});~a&&r.splice(a,1)}),(0,i["default"])(o,n.ADD_ROLE_REL_PERMISSION,function(e,t){var r=e.detail.permissions,a=c(r,{id:t.id});a===-1&&r.push(t)}),(0,i["default"])(o,n.SET_ROLE_MODE,function(e,t){e.ui.mode=t}),o);t["default"]={state:l,mutations:d}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(7),i=a(s),n=r(22),l={menus:[{name:"statistics",title:"统计管理",sub:[{name:"/admin/statistic",title:"订单统计"}]},{name:"user",title:"用户管理",close:!0,sub:[{name:"/admin/user",contains:["/admin/user","/admin/user/:id"],title:"搜索用户"},{name:"/admin/user/add",title:"添加用户"}]},{name:"role",title:"角色管理",close:!0,sub:[{name:"/admin/role",contains:["/admin/role","/admin/role/:id"],title:"搜索角色"},{name:"/admin/role/add",title:"添加角色"}]},{name:"order",title:"订单管理",sub:[{name:"/admin/order",contains:["/admin/order","/admin/order/:id"],title:"搜索订单"},{name:"/admin/order/add",title:"添加订单"}]},{name:"user-order",title:"个人订单管理",sub:[{name:"/admin/user/order",contains:["/admin/user/order","/admin/user/order/:id"],title:"搜索订单"},{name:"/admin/user/order/add",title:"添加订单"}]},{name:"worker",title:"师傅管理",sub:[{name:"/admin/worker",contains:["/admin/worker","/admin/worker/:id"],title:"搜索师傅"},{name:"/admin/worker/add",title:"添加师傅"}]}],active:"/"},c=(o={},(0,i["default"])(o,n.SET_SLIDER,function(e,t){e.menus=t}),(0,i["default"])(o,n.SET_ACTIVE_MENU,function(e,t){e.active=t}),o);t["default"]={mutations:c,state:l}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(7),i=a(s),n=r(86),l=r(1),c={search:{creatorId:"",serviceType:"",beginTime:"",endTime:"",searchType:"orderCount"},value:"",state:!0},d=(o={},(0,i["default"])(o,n.SET_SEARCH,function(e,t){l(t,function(t,r){e.search[r]=t})}),(0,i["default"])(o,n.RECEIVE_VALUE,function(e,t){e.value=t}),(0,i["default"])(o,n.REQUEST_STATE,function(e,t){e.state=t}),o);t["default"]={state:c,mutations:d}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(7),i=a(s),n=r(87),l={ui:{mode:"query"},searchKeyword:"",checkAll:!1,detail:{roles:[],slaves:[]},list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}},c=r(48),d=(o={},(0,i["default"])(o,n.RECEIVE_USE,function(e,t){var r=t.list,a=t.pageInfo,o=t.searchKeyword;e.searchKeyword=o,e.list=r,e.pageInfo=a}),(0,i["default"])(o,n.CHECK_ALL_USER,function(e,t){e.checkAll=t,e.list=e.list.map(function(e){return e.checked=t,e})}),(0,i["default"])(o,n.CHECK_USER,function(e,t){var r=t.checked,a=t.id,o=c(e.list,{id:a});if(~o){var s=e.list[o];s.checked=r,e.list[o]=s}}),(0,i["default"])(o,n.DELETE_USER,function(e,t){e.list=e.list.filter(function(e){return t.indexOf(e.id)===-1})}),(0,i["default"])(o,n.RECEIVE_USER_DETAIL,function(e,t){e.detail=t}),(0,i["default"])(o,n.DELETE_USER_REL_ROLE,function(e,t){var r=e.detail.roles,a=c(r,{id:t});~a&&r.splice(a,1)}),(0,i["default"])(o,n.ADD_USER_REL_ROLE,function(e,t){var r=e.detail.roles,a=c(r,{id:t.id});a===-1&&r.push(t)}),(0,i["default"])(o,n.DELETE_USER_REL_SLAVE,function(e,t){var r=e.detail.slaves,a=c(r,{id:t});~a&&r.splice(a,1)}),(0,i["default"])(o,n.ADD_USER_REL_SLAVE,function(e,t){var r=e.detail.slaves,a=c(r,{id:t.id});a===-1&&r.push(t)}),(0,i["default"])(o,n.SET_USER_MODE,function(e,t){e.ui.mode=t}),o);t["default"]={state:l,mutations:d}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(7),i=a(s),n=r(88),l={ui:{mode:"query"},search:{searchKeyword:"",region:"",server_type:"服务"},checkAll:!1,detail:{receiveType:0},list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}},c=r(48),d=r(1),u=(o={},(0,i["default"])(o,n.RECEIVE_WORKER,function(e,t){var r=t.list,a=t.pageInfo,o=t.search;e.search=o,e.list=r,e.pageInfo=a}),(0,i["default"])(o,n.CHECK_ALL_WORKER,function(e,t){e.checkAll=t,e.list=e.list.map(function(e){return e.checked=t,e})}),(0,i["default"])(o,n.CHECK_WORKER,function(e,t){var r=t.checked,a=t.id,o=c(e.list,{id:a});if(~o){var s=e.list[o];s.checked=r,e.list[o]=s}}),(0,i["default"])(o,n.DELETE_WORKER,function(e,t){e.list=e.list.filter(function(e){return t.indexOf(e.id)===-1})}),(0,i["default"])(o,n.RECEIVE_WORKER_DETAIL,function(e,t){e.detail=t}),(0,i["default"])(o,n.SET_WORKER_MODE,function(e,t){e.ui.mode=t}),(0,i["default"])(o,n.SET_WORKER,function(e,t){d(t,function(t,r){e.detail[r]=t})}),o);t["default"]={state:l,mutations:u}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPermissions=function(e){return{list:e.permission.list,pageInfo:e.permission.pageInfo}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getSearch=function(e){return e.statistic.search},t.getValue=function(e){return e.statistic.value},t.getState=function(e){return e.statistic.state}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(359),s=a(o),i=r(358),n=a(i),l=r(4),c=r(6),d=r(36),u=r(82);t["default"]={components:{Slider:s["default"],GoTop:n["default"]},ready:function(){var e=this;e.setContentMinHeight()},methods:{setContentMinHeight:function(){var e=this.$els;(0,u.css)(e.content,{"min-height":window.innerHeight-e.footer.offsetHeight+"px"})},toggleSlider:function(e){var t=e.target,r=this.$els.container,a="extend",o=t.classList.contains(a);t.classList[o?"remove":"add"](a),r.classList[o?"remove":"add"](a)}},vuex:{getters:{slider:l.getSlider,auth:c.getAuth},actions:{logout:d.logout}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(59),s=a(o),i=r(355),n=a(i),l=r(4),c=r(2);t["default"]={components:{Dialog:n["default"]},methods:{onDialogClose:function(){this.toggleDialog({show:!1})}},vuex:{getters:{dialog:l.getDialog},actions:{toggleDialog:c.toggleDialog}},replace:!1,store:s["default"]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(36),o=r(6);t["default"]={computed:{isLogin:function(){return this.auth.login}},methods:{onUserLogin:function(){var e=this.$els;this.login({loginName:e.login_name.value.trim(),password:e.password.value.trim()})}},vuex:{getters:{auth:o.getAuth},actions:{login:a.login}},watch:{isLogin:function(e){if(e){var t="/admin",r=this.auth.permission;t+=r.userManager?"/order":r.userOrderManager?"/user/order":"",this.$router.go(t)}}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{menus:{type:Array},active:{type:String,"default":"/"}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{name:String,hasAll:{type:Boolean,"default":!1},hasOther:{type:Boolean,"default":!1},allText:{type:String,"default":"全部"},all:{type:Boolean,"default":!1},other:{type:Boolean,"default":!1},otherValue:{type:String,"default":""},otherPlaceholder:{type:String,"default":"其他"},radios:{type:Array,"default":function(){return[]}},checked:{type:Array,"default":function(){return[]}},readonly:{type:Boolean,"default":!1}},computed:{allRadio:function(){return this.radios.reduce(function(e,t){return e.push(t.value),e},[])}},methods:{isCheckAll:function(){var e=this,t=e.checked.length,r=e.radios.length,a=r===t?e.hasOther?e.other:1:0;a?e.all=!0:e.all=!1},checkAll:function(e){var t=this;t.all=!!(t.all?0:1);var r=t.$els.other;t.all?(this.hasOther&&(this.other=!0),t.checked=t.allRadio,t.checked.push(r&&r.value||"")):(t.checked=[],this.other=!1),t.dispatchCheckValue(t.checked)},checkOther:function(e){var t=this;t.other=!!(t.other?0:1),t.addOtherValue()},onOtherText:function(e){var t=this;t.otherValue=e.target.value,t.addOtherValue()},addOtherValue:function(){var e=this,t=e.checked.slice(0);e.other&&""!==e.otherValue.trim()&&t.push(e.otherValue),e.dispatchCheckValue(t)},change:function(e){var t=this;if(!t.readonly){var r=e.target.value,a=!~t.checked.indexOf(r),o=t.checked.slice(0),s=o.indexOf(r);a&&s===-1?o.push(r):!a&&~s&&(s=o.indexOf(r),~s&&o.splice(s,1)),t.checked=o,t.dispatchCheckValue()}},dispatchCheckValue:function(e){var t=null,r=this;e?t=e:(t=r.checked.slice(0),r.other&&this.otherValue&&t.push(this.otherValue)),r.$dispatch("radio-checked",t.join(","))}},watch:{checked:function(e){this.isCheckAll()}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(353),s=a(o);t["default"]={props:{breads:{type:Object},title:{type:String}},components:{BreadCrumb:s["default"]}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{title:{type:String,"default":"提示"},closeText:{type:String,"default":"取消"},successText:{type:String,"default":"确定"},content:{type:String,"default":""},hasSuccessBtn:{type:Boolean,"default":!1},hasCloseBtn:{type:Boolean,"default":!0},show:{type:Boolean,"default":!1},auto:{type:Boolean,"default":!1},duration:{type:Number,"default":1300},success:{type:Function,"default":function(){return null}},close:{type:Function,"default":function(){return null}}},methods:{onCloseHandle:function(){this.$dispatch("dialog-cancel"),this.close&&this.close(),this.hideDialog()},onSuccessHandle:function(){this.$dispatch("dialog-success"),this.success&&this.success(),this.hideDialog()},hideDialog:function(e,t){t&&e.target!==e.currentTarget||this.$dispatch("dialog-close")},autoHide:function(){var e=this;e.show&&e.auto&&setTimeout(function(){e.hideDialog()},e.duration)}},ready:function(){this.autoHide()},watch:{show:function(e,t){this.autoHide()}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{message:String,url:[Object,String],btnText:String}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(15),s=a(o);t["default"]={props:{classObject:{type:Object,"default":function(){return{"btn-success":!0}}},title:{type:String,"default":function(){return"文件上传"}},disabled:{type:Boolean,"default":!1},filter:{type:Function,"default":function(e){var t=e.name,r=e.type;return r=!r&&t.substring(t.lastIndexOf(".")+1)||r,/png|jpg|jpeg|gif/.test(r)}},filterMsg:{type:String,"default":function(){return"只允许上传图片"}},files:{type:Array,"default":function(){return[]}},name:{type:String,"default":""},url:{type:String,"default":""}},methods:{onUploadFile:function(e){var t=this,r=e.target.files[0],a=1,o=t.files.length;a=t.filter(r),a?(t.uploadFile(r,o),t.readAsDataURL(r,o),t.files.push(r)):t.$dispatch("file-upload-error",t.name,t.filterMsg)},readAsDataURL:function(e,t){var r=this,a=new window.FileReader;a.onload=function(e){r.$dispatch("file-upload-review",r.name,e.target.result,t)},a.readAsDataURL(e)},uploadFile:function(e,t){var r=this,a=r.url;if(a){var o=new window.FormData;o.append("theFile",e),r.$dispatch("file-upload-loading",r.name,"loading",t),s["default"].request({url:a,method:"post",data:o}).then(function(e){r.$dispatch("file-upload-success",r.name,e.result,t)},function(e){r.$dispatch("file-upload-success",r.name,"/assets/img/upload_error.png",t)})}}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),s=r(10),i=a(s),n=r(11),l=a(n),c=r(356),d=a(c);t["default"]={props:{title:{type:String,"default":"错误"}},components:{Content:i["default"],Widget:l["default"],Error:d["default"]},vuex:{getters:{breads:o.getBreadCrumb}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={methods:{goUp:function(){window.scrollTo(0,0)}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{curPage:Number,pageSize:Number,totalPage:Number,total:Number,showPage:{type:Number,"default":3}},methods:{onPageClick:function(e,t){var r=e.target;if(!r.classList.contains("pg-state-disabled")){var a=t;switch(a){case"next":a=this.curPage+1;break;case"pre":a=this.curPage-1;break;default:a=t}this.$dispatch("go-page",a)}},setFor:function(e,t,r,a){for(;t<=r;t++)e.push({idx:t,isCurrent:a===t});return e}},computed:{isFirst:function(){return 1===this.curPage},isLast:function(){return this.curPage===this.totalPage},hasNext:function(){var e=this;return e.curPage===e.totalPage},hasPre:function(){var e=this;return 1===e.curPage},pages:function(){var e=this,t=e.curPage,r=e.totalPage,a=e.showPage;e.setFor(i,n,l,t);var o=e.setFor([],1,a,t),s=e.setFor([],r-2,r,t),i=[],n=t-a>0?t-a:1,l=t+a>r?r:t+a;return n=n-a-1<1?(o=[],1):n,l=l+a+1>r?(s=[],r):l,e.setFor(i,n,l,t),o.length>0&&o.push({idx:"so"}),s.length>0&&s.unshift({idx:"so"}),[].concat(o,i,s)},isHide:function(){return this.totalPage<=1}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{name:String,radios:{type:Array,"default":[]},checked:{type:[String,Number],"default":""},readonly:{type:Boolean,"default":!1}},methods:{change:function(e){this.readonly||(this.checked=e.target.value,this.$dispatch("radio-checked",this.checked))}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(177),s=a(o),i="省",n="市",l="区";t["default"]={props:{sortProvinces:{type:Array,"default":function(){return[]}},province:{type:String,"default":i},city:{type:String,"default":n},area:{type:String,"default":l},region:Object,readonly:{type:Boolean,"default":!1}},computed:{provinces:function c(){var e=this;e.province=e.province||i,e.city=e.city||n,e.area=e.area||l;var c=e.sortProvinces.length>0?e.sortProvinces.slice(0):(0,s["default"])(e.region);return c.unshift(i),c},cities:function d(){var e=this,d=e.region[e.province];return e.province&&e.province!==i&&d?(d=(0,s["default"])(d),d.unshift(n),d):(e.city=n,[n])},areas:function u(){var e=this;if(!e.city||e.city===n)return e.area=l,[l];var t=e.region[e.province]&&e.region[e.province][e.city];if(!t)return e.area=l,[l];var u=t.map(function(e){return e});return u.unshift(l),u}},methods:{changeProvince:function(e){var t=this;t.city=n,t.area=l,t.areas=[l],t.change()},changeCity:function(e){this.area=l,this.change()},changeArea:function(e){this.change()},change:function(){var e=this,t=e.province===i?"":e.province,r=e.city===n?"":e.city,a=e.area===l?"":e.area;e.$dispatch("select-region",[t,r,a])}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(26),s=r(135),i=a(s),n=r(1);t["default"]={props:{menus:Array,active:{type:String,"default":"/"}},computed:{allMenus:function l(){var e=this,l=e.menus.slice();return n(l,function(e){(0,o.isUndefined)(e.close)&&(e.close=!1),(0,o.isUndefined)(e.sub)&&(e.sub=[]),n(e.sub,function(e){(0,o.isUndefined)(e.contains)&&(e.contains=[]),(0,o.isUndefined)(e.active)&&(e.active=!1)})}),l}},filters:{filterMenus:function(e,t){var r=e.slice(0);return n(r,function(e,r){var a=e.sub;a&&a.length>0&&n(a,function(e){var r=e.name===t||e.contains&&~e.contains.indexOf(t);r?e.active=!0:e.active=!1})}),r}},methods:{setDefault:function(e,t){(0,o.isUndefined)(e)&&(e=t)},onItemClick:function(e,t){var r=e.currentTarget;if("a"===r.tagName.toLowerCase()){var a=r.parentNode,o=a.classList;t.sub&&t.sub.length>0?o[o.contains("open")?"remove":"add"]("open"):(0,i["default"])(t.name,this.$router)}}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{title:String,padding:{type:Boolean,"default":!0},icon:{type:String,"default":"icon-th"}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),s=r(10),i=a(s),n=r(11),l=a(n),c=r(80),d=a(c),u=r(14),p=a(u),h=r(51),v=a(h),f=r(131),g=a(f),m=r(6),b=r(56),y=r(53),k=r(58),_=r(55),w=r(2),E=r(52),x=a(E);t["default"]={mixins:[x["default"]],props:{backUrl:{type:String,"default":"/admin/order"},searchKeyword:{type:String,"default":""},searchService:{type:String,"default":""},searchRegion:{type:String,"default":""},province:{type:String,"default":""},sortProvinces:{type:Array,"default":function(){return[]}}},components:{Content:i["default"],Widget:l["default"],Pagination:p["default"],Region:v["default"],RadioGroup:d["default"],FileUpload:g["default"]},computed:{searchServices:function(){return[{value:"",name:"全部"},{value:"配送安装",name:"配送安装"},{value:"维修",name:"维修"}]},title:function(){return this.isPersonal?"个人订单管理":"订单管理"},hasPermission:function(){return this.isPersonal?this.permission.userOrderManager:this.permission.orderManager},productUploadURL:function(){return this.baseUrl+"/upload/product "},logisticsUploadURL:function(){return this.baseUrl+"/upload/logistics "},repairUploadURL:function(){return this.baseUrl+"/upload/repair "},isEdit:function(){return"query"!==this.mode},isQuery:function(){return"query"===this.mode},isNew:function(){return"new"===this.mode},orderStatus:function(){var e=this.status,t="new"===this.mode,r=this.isPersonal?t?e.slice(0,4):[].concat(e.slice(0,5),e[e.length-1]):t?e.slice(0,8):e;return r.map(function(e,t){return{name:e,value:r[t]}})},serviceTypes:function(){var e=["配送安装","维修"];return e.map(function(t,r){return{name:t,value:e[r]}})},detailUrl:function(){var e=this.isPersonal?"/admin/user/order":"/admin/order";return e+"?back=true"},judgmentPercent:function(){var e=this.order.judgment;return e?100*e/5:0},config:function(){return{customerPhoneNum:"isPhoneNumber",servicePrice:"isNumber",orderPrice:"isNumber"}}},methods:{setSearch:function(e,t){var r=this;r.searchKeyword=r.$els.search.value.trim(),r.searchService=r.$els.search_service.value,r.searchRegion=r.$els.search_region.value},onSaveOrder:function(){var e=this;this.saveOrder().then(function(){e.$router.go(e.backUrl+"?back=true")})},startSearchWorker:function(e){var t=this.$els.search.value.trim(),r=this.$els.search_region.value,a=this.$els.search_service.value;this.searchWorker({search:{searchKeyword:t,region:r,serverType:a},curPage:e||1})},selectRegion:function(e){this.$els.search_region.value=e.join("/")},setOrderStatus:function(e){this.setOrder({orderStatus:e})},setJudgment:function(e){this.setOrder({judgment:e+1})},setWorkman:function(e,t){var r={workman:{id:e,name:t}};this.order.workman.id===e&&(r={workman:{}}),this.setOrder(r)},setServiceType:function(e){this.setOrder({serviceType:e})},setData:function(e,t){var r=this,a={},o=t.target,s=o.value.trim();o.value=s;var i=r.config[e],n="servicePrice"===e||"orderPrice"===e;s&&i&&!r[i](s)&&(s=n?t.target.value=0:t.target.value=""),n&&(s=t.target.value=parseInt(s,10)),"checked"===e&&(s="1"===s),a[e]=s,r.setOrder(a)},uploadError:function(e,t){this.toggleDialog({content:t,show:!0,auto:!0,hasSuccessBtn:!1,hasCloseBtn:!1})},uploadLoading:function(e,t,r){this.onDealOrderImage(e,t,"add",r)},uploadSuccess:function(e,t,r){this.onDealOrderImage(e,t,"add",r)},onDealOrderImage:function(e,t,r,a){this.dealOrderImage({key:e,src:t,type:r,idx:a})}},watch:{"order.orderPrice":function(e){var t=parseInt(e,10)?parseInt(e,10):0;this.setOrder({profit:t-this.order.servicePrice})},"order.servicePrice":function(e){var t=parseInt(e,10)?parseInt(e,10):0;this.setOrder({profit:this.order.orderPrice-t})}},route:{data:function(e){var t=e.to,r=t.path,a=t.params.id,o=t.query,s=o.type,i=o.creatorId;s=a?"edit":"new";var n=!1,l=this.permission,c=l.orderManager;return~r.indexOf("/admin/user/order")?(n=!0,this.backUrl="/admin/user/order/",c=l.userOrderManager):this.backUrl="/admin/order",c||("new"!==s&&l.orderView?l.orderView&&(s="query"):e.redirect("/admin/forbidden")),console.log(this.backUrl),this.sortProvinces=window.__PROVINCE_NAMES__&&window.__PROVINCE_NAMES__.split(",")||[],this.setRegion(),this.clearOrderDetail(),this.setOrderPersonal(n),this.setOrderMode(s),this.searchKeyword="",this.searchService="",this.searchService="",this.searchRegion="",this.province="省",this.setWorkers({search:{},list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}}),"new"!==s?this.showOrderDetail(a,i):e.next()}},vuex:{getters:{breads:o.getBreadCrumb,order:b.getDetailOrder,workers:k.getWorkers,mode:b.getUIOptions,isPersonal:b.isPersonal,region:o.getRegion,status:b.getOrderStatus,permission:m.getPermission,baseUrl:b.getBaseUrl},actions:{showOrderDetail:y.showOrderDetail,searchWorker:_.searchWorker,saveOrder:y.saveOrder,setOrderMode:y.setOrderMode,clearOrderDetail:y.clearOrderDetail,setOrder:y.setOrder,dealOrderImage:y.dealOrderImage,setOrderPersonal:y.setOrderPersonal,toggleDialog:w.toggleDialog,setWorkers:_.setWorkers,setRegion:w.setRegion}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),s=r(4),i=r(56),n=r(53),l=r(6),c=r(28),d=r(27),u=r(10),p=a(u),h=r(11),v=a(h),f=r(14),g=a(f),m=r(51),b=a(m),y=r(82);t["default"]={props:{searchStatus:{type:String,"default":""},checkStatus:{type:String,"default":""},noSlave:{type:Boolean,"default":!1}},components:{Content:p["default"],Widget:v["default"],Pagination:g["default"],Region:b["default"]},computed:{title:function(){return this.isPersonal?"个人订单管理":"订单管理"},hasPermission:function(){return this.isPersonal?this.permission.userOrderManager:this.permission.orderManager},detailUrl:function(){return this.isPersonal?"/admin/user/order":"/admin/order"},allPersonalStatus:function(){return"未收未付,已收未付"}},ready:function(){this.setInitHeight()},methods:{toggleCheck:function(e,t){var r=e.target;this.checkOrder(r.checked,t)},startSearchOrder:function(e){if(this.noSlave&&this.isPersonal)return this.setOrders({list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}}),void this.showHint("无关联用户");var t=this.$els.search.value.trim(),r=this.$els.order_status.value.trim(),a=this.$els.service_type.value.trim(),o=this.$els.creator_id.value.trim(),s=this.$els.begin_time.value.trim(),i=this.$els.end_time.value.trim(),n={searchKeyword:t,orderStatus:r,serviceType:a,creatorId:o,beginTime:s,endTime:i};this.searchOrder({search:n,curPage:e||1})},onSaveComment:function(){var e=this,t=e.$els.order_comment,r=t.getAttribute("curren"),a=e.$els.operation_comment.value.trim();e.updateOrderComment({id:r,description:a,creatorId:e.$els.creator_id.value})},onDealOrder:function(e){var t=this.$els.order_operation,r=t.getAttribute("curren");r&&this.onDealBatch(r,e)},onDealBatch:function(e,t){var r="",a="",o=this,s="更新";if(e)r=t,a="update";else if(r=o.$els.action.value,a="删除"===r?"delete":"update","delete"===a&&(s="删除"),!o.hasCheck)return void o.toggleDialog({content:"请选择要"+s+"的订单",show:!0,auto:!0,hasSuccessBtn:!1,hasCloseBtn:!1});o.toggleDialog({content:"是否"+s+"的订单",show:!0,hasSuccessBtn:!0,hasCloseBtn:!0,auto:!1,success:function(){o.dealOrder({id:e,action:a,orderStatus:r,creatorId:o.$els.creator_id.value})}})},showOrderOpera:function(e,t,r){var a=this.$els.order_operation;a.setAttribute("curren",t),a.setAttribute("height",30*a.childNodes.length),this.checkStatus=r,this.show(e,a)},show:function(e,t){var r=parseInt(t.getAttribute("height"),10),a=parseInt(t.getAttribute("width"),10),o=e.clientY,s=e.clientX,i=window.innerHeight,n=window.innerWidth,l=o+r-i;o=l>0?o-l-45:o,s=s+a>n?n-a-40:s,(0,y.css)(t,{display:"block",left:s+"px",top:o+"px"})},showOrderComment:function(e,t,r){this.$els.operation_comment.value=r;var a=this.$els.order_comment;a.setAttribute("curren",t),this.show(e,a)},hideOrderOpera:function(e,t){(0,y.css)(this.$els.order_operation,{display:"none"})},hideOrderComment:function(e,t){(0,y.css)(this.$els.order_comment,{display:"none"})},keepOperaShow:function(){(0,y.css)(this.$els.order_operation,{display:"block"})},keepCommentShow:function(){(0,y.css)(this.$els.order_comment,{display:"block"})},setOrderStatus:function(e){this.searchStatus=e.target.value},filter:function(e,t){var r=e.slice(0),a=r.indexOf(t);return~a&&r.splice(a,1),r},showHint:function(e){this.toggleDialog({content:e,show:!0,auto:!0})},setInitHeight:function(){var e=this.$els.order_operation,t=this.$els.order_comment;e.setAttribute("height",e.offsetHeight),e.setAttribute("width",e.offsetWidth),t.setAttribute("height",t.offsetHeight),t.setAttribute("width",t.offsetWidth)}},route:{data:function(e){var t=e.to,r=t.path,a=t.query.back,o=this,s=o.orders,i=o.isPersonal,n=o.permission,l=n.orderManager||n.orderView;~r.indexOf("/admin/user/order")?(i=!0,l=n.userOrderManager):(i=!1,o.searchUser({pageSize:9999})),l||e.redirect("/admin/forbidden");var c=a?s.search||{}:{};if(o.isPersonal!==i&&(c={}),o.setOrderPersonal(i),i)if(o.searchStatus=c.orderStatus=c.orderStatus||o.allPersonalStatus,o.slaves.length>0&&!c.creatorId){var d=o.slaves.some(function(e){return e.id===o.auth.id});c.creatorId=d?o.auth.id:o.slaves[0].id}else if(0===o.slaves.length)return o.noSlave=!0,o.showHint("无关联用户"),o.setOrders({list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}}),void e.next();a?o.searchOrder({search:c,curPage:s.pageInfo.curPage}):o.searchOrder({search:c})}},vuex:{getters:{breads:s.getBreadCrumb,orders:i.getOrders,checkAll:i.getCheckAll,region:s.getRegion,users:c.getUsers,slaves:i.getSlaves,orderStatus:i.getOrderStatus,permission:l.getPermission,isPersonal:i.isPersonal,hasCheck:i.hasCheck,auth:l.getAuth},actions:{searchOrder:n.searchOrder,checkOrder:n.checkOrder,dealOrder:n.dealOrder,searchUser:d.searchUser,updateOrderComment:n.updateOrderComment,setOrderPersonal:n.setOrderPersonal,toggleDialog:o.toggleDialog,setOrders:n.setOrders}},filters:{filterStatus:function(e,t){var r=this,a=[],o=r.checkStatus,s=r.searchStatus,i="select",n="batch";if(r.isPersonal){var l=e.slice(1,5);l.push(e[9]),a=t===i?e.slice(0,2):t===n?s===r.allPersonalStatus||"未收未付"===s?l:[e[3],e[9]]:o===e[0]?l:[e[3],e[9]]}else a=t===i?e:t===n?""===s?e:r.filter(e,s):r.filter(e,o);return a}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),s=r(10),i=a(s),n=r(11),l=a(n),c=r(14),d=a(c),u=r(57),p=r(54),h=r(6),v=r(148),f=r(136);t["default"]={components:{Content:i["default"],Widget:l["default"],Pagination:d["default"]},computed:{title:function(){return"角色管理"},isEdit:function(){return"query"!==this.mode},isQuery:function(){return"query"===this.mode}},methods:{startSearchPermission:function(e){var t=this.$els.search.value.trim();this.searchPermission({searchKeyword:t,curPage:e||1})},onSaveRole:function(){var e=this,t=this,r=t.$els,a=t.role;t.saveRole(a,{id:a.id,name:r.name.value,description:r.description.value}).then(function(){e.$router.go("/admin/role?back=true")})}},route:{data:function(e){var t=e.to,r=t.params.id,a=t.query.type;r&&!a?a="query":a||(a="new"),"edit"!==a&&"new"!==a||this.permission.roleManager||e.redirect("/admin/forbidden"),this.clearRoleDetail(),this.setRoleMode(a),"new"!==a&&this.showRoleDetail(r),this.searchPermission({})}},vuex:{getters:{breads:o.getBreadCrumb,role:u.getDetailRole,permissions:v.getPermissions,mode:u.getUIOptions,permission:h.getPermission},actions:{showRoleDetail:p.showRoleDetail,searchPermission:f.searchPermission,deleteRelPermission:p.deleteRelPermission,addRelPermission:p.addRelPermission,saveRole:p.saveRole,setRoleMode:p.setRoleMode,clearRoleDetail:p.clearRoleDetail}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),s=r(4),i=r(57),n=r(54),l=r(10),c=a(l),d=r(11),u=a(d),p=r(14),h=a(p),v=r(6);t["default"]={components:{Content:c["default"],Widget:u["default"],Pagination:h["default"]},computed:{title:function(){return"角色管理"}},methods:{toggleCheck:function(e,t){var r=e.target;this.checkRole(r.checked,t)},startSearchRole:function(e){var t=this.$els.search.value.trim();this.searchRole({searchKeyword:t,curPage:e||1})},onDeleteRole:function(e){var t=this;e||t.hasCheck?t.toggleDialog({content:"是否删除角色",show:!0,hasSuccessBtn:!0,hasCloseBtn:!0,auto:!1,success:function(){t.deleteRole(e)}}):t.toggleDialog({content:"请选择要删除的角色",show:!0,auto:!0,hasSuccessBtn:!1,hasCloseBtn:!1})}},route:{data:function(e){var t=e.to.query.back,r=this.permission;r.roleManager||e.redirect("/admin/forbidden");var a=this.roles,o=this.$els.search&&this.$els.search.value||a.searchKeyword;t?this.searchRole({searchKeyword:o,curPage:a.pageInfo.curPage}):this.searchRole({})}},vuex:{getters:{breads:s.getBreadCrumb,roles:i.getRoles,checkAll:i.getCheckAll,permission:v.getPermission,hasCheck:i.hasCheck},actions:{searchRole:n.searchRole,checkRole:n.checkRole,deleteRole:n.deleteRole,toggleDialog:o.toggleDialog}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),s=r(149),i=r(137),n=r(28),l=r(27),c=r(10),d=a(c),u=r(11),p=a(u),h=r(14),v=a(h),f=r(80),g=a(f),m=r(1);t["default"]={components:{Content:d["default"],Widget:p["default"],Pagination:v["default"],RadioGroup:g["default"]},computed:{title:function(){return"订单统计"},unit:function(){return"orderCount"===this.search.searchType?"个":"profitMargin"===this.search.searchType?"%":"元"},creators:function b(){var b=this.users.list.map(function(e){return{name:e.name,value:e.id}});return b.unshift({name:"不限",value:""}),b},serviceTypes:function(){var e=["配送安装","维修"].map(function(e){return{name:e,value:e}});return e.unshift({name:"不限",value:""}),e},searchTypesObject:function(){return{orderCount:"订单数",income:"总收入",expenditure:"总支出",profit:"总利润",profitMargin:"利润率",incomeP:"每单收入",
profitP:"每单利润"}},searchTypes:function(){var e=[],t=this.searchTypesObject;return m(t,function(t,r){e.push({name:t,value:r})}),e}},methods:{onStartStatistic:function(){this.setSearch({beginTime:this.$els.beging.value,endTime:this.$els.end.value}),this.startStatistic()},setCreatorId:function(e){this.setSearch({creatorId:e})},setServerType:function(e){this.setSearch({serviceType:e})},setSearchType:function(e){this.setSearch({searchType:e})}},route:{data:function(){this.searchUser({pageSize:9999})}},vuex:{getters:{breads:o.getBreadCrumb,region:o.getRegion,users:n.getUsers,search:s.getSearch,value:s.getValue,state:s.getState},actions:{searchUser:l.searchUser,setSearch:i.setSearch,startStatistic:i.startStatistic}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),s=r(10),i=a(s),n=r(11),l=a(n),c=r(14),d=a(c),u=r(28),p=r(27),h=r(57),v=r(54),f=r(6),g=r(52),m=a(g);t["default"]={mixins:[m["default"]],props:{selfEdit:{type:Boolean,"default":!1}},components:{Content:i["default"],Widget:l["default"],Pagination:d["default"]},computed:{title:function(){return"用户管理"},isEdit:function(){return"selfEdit"!==this.mode&&("new"===this.mode||"edit"===this.mode)},isQuery:function(){return"query"===this.mode},config:function(){return{phoneNum:"isPhoneNumber"}}},methods:{setData:function(e,t){var r=this,a=t.target,o=a.value.trim();a.value=o;var s=r.config[e];if(o&&s&&!r[s](o))return void(t.target.value="")},startSearchRole:function(e){var t=this.$els.search_role.value.trim();this.searchRole({searchKeyword:t,curPage:e||1})},startSearchUser:function(e){var t=this.$els.search_user.value.trim();this.searchUser({searchKeyword:t,curPage:e||1})},onSaveUser:function(){var e=this,t=this,r=t.$els,a=t.user;t.saveUser(a,{id:a.id,name:r.name.value,loginName:r.login_name.value,phoneNum:r.phone_num.value,identity:r.identity.value,password:r.password.value,description:r.description.value},t.selfEdit).then(function(){e.$router.go("/admin/user?back=true")})}},route:{data:function(e){var t=e.to,r=t.path,a=t.params.id,o=t.query.type,s="selfEdit",i="new";return this.clearUserDetail(),this.selfEdit=!1,r.indexOf("/admin/user/self")>-1?(o=s,this.selfEdit=s):(a&&!o?o="query":o||(o=i),"edit"!==o&&o!==i||this.permission.userManager||e.redirect("/admin/forbidden"),this.searchRole({}),this.searchUser({})),this.setUserMode(o),o!==i?o===s?this.showSelfUserDetail():this.showUserDetail(a):e.next()}},vuex:{getters:{breads:o.getBreadCrumb,user:u.getDetailUser,roles:h.getRoles,users:u.getUsers,mode:u.getUIOptions,permission:f.getPermission},actions:{showUserDetail:p.showUserDetail,searchUser:p.searchUser,searchRole:v.searchRole,deleteRelRole:p.deleteRelRole,addRelRole:p.addRelRole,deleteRelSlave:p.deleteRelSlave,addRelSlave:p.addRelSlave,saveUser:p.saveUser,setUserMode:p.setUserMode,clearUserDetail:p.clearUserDetail,showSelfUserDetail:p.showSelfUserDetail}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),s=r(4),i=r(28),n=r(27),l=r(10),c=a(l),d=r(11),u=a(d),p=r(14),h=a(p),v=r(2);t["default"]={components:{Content:c["default"],Widget:u["default"],Pagination:h["default"]},computed:{title:function(){return"用户管理"}},methods:{toggleCheck:function(e,t){var r=e.target;this.checkUser(r.checked,t)},startSearchUser:function(e){var t=this.$els.search.value.trim();this.searchUser({searchKeyword:t,curPage:e||1})},onDeleteUser:function(e){var t=this;e||t.hasCheck?t.toggleDialog({content:"是否删除用户",show:!0,hasSuccessBtn:!0,hasCloseBtn:!0,auto:!1,success:function(){t.deleteUser(e)}}):t.toggleDialog({content:"请选择要删除的用户",show:!0,auto:!0,hasSuccessBtn:!1,hasCloseBtn:!1})}},route:{data:function(e){var t=e.to.query.back;this.permission.userManager||e.redirect("/admin/forbidden");var r=this.users,a=this.$els.search&&this.$els.search.value||r.searchKeyword;t?this.searchUser({searchKeyword:a,curPage:r.pageInfo.curPage}):this.searchUser({})}},vuex:{getters:{breads:s.getBreadCrumb,users:i.getUsers,checkAll:i.getCheckAll,permission:o.getPermission,hasCheck:i.hasCheck},actions:{searchUser:n.searchUser,checkUser:n.checkUser,deleteUser:n.deleteUser,toggleDialog:v.toggleDialog}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),s=r(2),i=r(10),n=a(i),l=r(11),c=a(l),d=r(14),u=a(d),p=r(51),h=a(p),v=r(80),f=a(v),g=r(354),m=a(g),b=r(131),y=a(b),k=r(6),_=r(58),w=r(55),E=r(56),x=r(53),R=r(28),S=r(27),O=r(52),P=a(O),T=r(1),A=function(){var e={},t=["serviceType","serviceArea","furnitureType","lightType","stoolType","metalsType","householdType"];return T(t,function(t){e[t]={all:!1}}),e},I=function(){var e={};return T(["furnitureType","stoolType","lightType","metalsType","householdType"],function(t){e[t]={otherCheck:!1}}),e};t["default"]={mixins:[P["default"]],props:{backUrl:{type:String,"default":"/admin/worker"},sortProvinces:{type:Array,"default":function(){return[]}},allServiceArea:{type:Boolean,"default":!1},checkAll:{type:Object,"default":A},allCheckboxesOther:{type:Object,"default":I}},components:{Content:n["default"],Widget:c["default"],Pagination:u["default"],Region:h["default"],RadioGroup:f["default"],FileUpload:y["default"],CheckboxGroup:m["default"]},computed:{title:function(){return"师傅管理"},isEdit:function(){return"query"!==this.mode},isQuery:function(){return"query"===this.mode},isNew:function(){return"new"===this.mode},allCheckboxes:function(){var e=this,t={};return T(["furnitureType","stoolType","lightType","metalsType","householdType"],function(r){var a="",o=e[r+"Arr"],s=e.worker[r]||[];if(0!==s.length&&s){var i=s.filter(function(e){var t=~o.indexOf(e);return!t&&(a=e),t});s=i}else s=[];t[r]={other:a,checked:s},""!==a&&(e.allCheckboxesOther[r].otherCheck=!0)}),t},furnitureTypeArr:function(){return["民用家具","办公家具","定制家具（衣橱类）"]},stoolTypeArr:function(){return["马桶","花洒","淋浴屏","浴室柜","水龙头","储物架","水盆类"]},lightTypeArr:function(){return["灯具安装","灯具检测维修","电路检测维修"]},metalsTypeArr:function(){return["晾衣架","内门 ","纱窗","开锁换锁","各种墙体挂板"]},householdTypeArr:function(){return["电视","空调","净水器","热水器 ","油烟机","吊扇","浴霸","小家电"]},serviceTypes:function(){return this.createRadios(["配送安装","维修"])},furnitureTypes:function(){return this.createRadios(this.furnitureTypeArr)},lightTypes:function(){return this.createRadios(this.lightTypeArr)},stoolTypes:function(){return this.createRadios(this.stoolTypeArr)},metalsTypes:function(){return this.createRadios(this.metalsTypeArr)},householdTypes:function(){return this.createRadios(this.householdTypeArr)},service_areas:function(){var e=this,t=e.worker,r=""===t.city?[]:t.province&&e.region[t.province]&&e.region[t.province][t.city]||[];return e.createRadios(r)},newCardNum:function(){var e=this,t=(this.worker.cardNum||"").replace(/([^\d])+/g,"");return t=e.insertSpace(t,4),t=e.insertSpace(t,9),t=e.insertSpace(t,14),t=e.insertSpace(t,19)},config:function(){return{teamPeopleNum:"isNumber",truckNum:"isNumber",tonnage:"isFloatNumber",phoneNum:"isPhoneNumber"}}},methods:{onSaveWorker:function(){var e=this;this.setWorker({birthday:this.$els.birthday.value}),this.saveWorker().then(function(){e.$router.go(e.backUrl+"?back=true")})},uploadError:function(e,t){this.toggleDialog({content:t,show:!0,auto:!0,hasSuccessBtn:!1,hasCloseBtn:!1})},createRadios:function(e){return e.map(function(t,r){return{name:t,value:e[r]}})},setServiceType:function(e){this.setWorker({serviceType:e})},setFurnitureType:function(e){this.multipleData("furnitureType",e)},setLightType:function(e){this.multipleData("lightType",e)},setStoolType:function(e){this.multipleData("stoolType",e)},setMetalsType:function(e){this.multipleData("metalsType",e)},setHouseholdType:function(e){this.multipleData("householdType",e)},multipleData:function(e,t){var r={};r[e]=t.split(","),this.setWorker(r)},setServiceArea:function(e){this.setWorker({serviceArea:e})},selectRegion:function(e){this.setWorker({province:e[0],city:e[1],area:e[2]})},upload:function(e,t){var r={};r[e]=t,this.setWorker(r)},setData:function(e,t){var r=this,a={},o=t.target.value,s=r.config[e],i="teamPeopleNum"===e||"truckNum"===e||"tonnage"===e;o&&s&&!r[s](o)&&(o=i?t.target.value=0:t.target.value=""),"teamPeopleNum"!==e&&"truckNum"!==e||(o=t.target.value=parseInt(o,10)),"receiveType"===e?o=parseInt(o,10):"cardNum"===e&&(o=o.replace(/([^\d])+/g,""),o=r.insertSpace(o,4),o=r.insertSpace(o,9),o=r.insertSpace(o,14),t.target.value=o),a[e]=o,r.setWorker(a)},insertSpace:function(e,t){return e.length>t&&" "!==e.charAt(t)&&(e=e.substr(0,t)+" "+e.substring(t,e.length)),e},startSearchOrder:function(e){var t=this.$els.search.value.trim(),r=this.$els.order_status.value.trim(),a=this.$els.service_type.value.trim(),o=this.$els.creator_id.value.trim(),s=this.$els.begin_time.value.trim(),i=this.$els.end_time.value.trim(),n={searchKeyword:t,orderStatus:r,serviceType:a,creatorId:o,beginTime:s,endTime:i,url:"/workman/"+this.worker.id+"/order"};this.searchOrder({search:n,curPage:e||1})}},route:{data:function(e){var t=e.to,r=t.params.id,a=t.query.type;if(r?a="edit":(a="new",this.clearWorkerDetail()),this.permission.workmanManager||e.redirect("/admin/forbidden"),this.clearWorkerDetail(),this.setOrders({search:{},list:[],pageInfo:{curPage:1,pageSize:10,totalPage:0,total:0}}),this.checkAll=A(),this.allCheckboxesOther=I(),this.setWorkerMode(a),this.sortProvinces=window.__PROVINCE_NAMES__&&window.__PROVINCE_NAMES__.split(",")||[],this.setRegion(),"new"!==a)return this.setOrderPersonal(!1),this.searchUser({pageSize:9999}),this.searchOrder({search:{url:"/workman/"+r+"/order"}}),this.showWorkerDetail(r)}},vuex:{getters:{breads:o.getBreadCrumb,worker:_.getDetailWorker,mode:_.getUIOptions,permission:k.getPermission,region:o.getRegion,orderStatus:E.getOrderStatus,orders:E.getOrders,users:R.getUsers},actions:{showWorkerDetail:w.showWorkerDetail,saveWorker:w.saveWorker,setWorkerMode:w.setWorkerMode,clearWorkerDetail:w.clearWorkerDetail,setWorker:w.setWorker,toggleDialog:s.toggleDialog,searchOrder:x.searchOrder,searchUser:S.searchUser,setOrderPersonal:x.setOrderPersonal,setRegion:s.setRegion,setOrders:x.setOrders}},filters:{toArray:function(e){return e?e.split(","):[]}},watch:{"worker.city":function(e,t){e&&t&&this.setWorker({serviceArea:""})}}}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),s=r(6),i=r(4),n=r(58),l=r(55),c=r(10),d=a(c),u=r(11),p=a(u),h=r(14),v=a(h),f=r(51),g=a(f);t["default"]={props:{sortProvinces:{type:Array,"default":function(){return[]}}},components:{Content:d["default"],Widget:p["default"],Pagination:v["default"],Region:g["default"]},computed:{title:function(){return"师傅管理"}},methods:{toggleCheck:function(e,t){var r=e.target;this.checkWorker(r.checked,t)},startSearchWorker:function(e){var t=this.$els.search.value.trim(),r=this.$els.search_region.value,a=this.$els.search_service.value;this.searchWorker({search:{searchKeyword:t,region:r,serverType:a},curPage:e||1})},selectRegion:function(e){this.$els.search_region.value=e.join("/")},onDeleteWorker:function(e){var t=this;e||t.hasCheck?t.toggleDialog({content:"是否删除师傅",show:!0,hasSuccessBtn:!0,hasCloseBtn:!0,auto:!1,success:function(){t.deleteWorker(e)}}):t.toggleDialog({content:"请选择要删除的师傅",show:!0,auto:!0,hasSuccessBtn:!1,hasCloseBtn:!1})}},route:{data:function(e){var t=e.to.query.back,r=this.permission;r.orderManager||r.orderView||r.workmanManager||r.userOrderManager||e.redirect("/admin/forbidden"),this.setRegion(),this.sortProvinces=window.__PROVINCE_NAMES__&&window.__PROVINCE_NAMES__.split(",")||[];var a=this.workers;t?this.searchWorker({search:a.search,curPage:this.workers.pageInfo.curPage}):this.searchWorker({})}},vuex:{getters:{breads:i.getBreadCrumb,workers:n.getWorkers,checkAll:n.getCheckAll,region:i.getRegion,permission:s.getPermission,hasCheck:n.hasCheck},actions:{searchWorker:l.searchWorker,checkWorker:l.checkWorker,deleteWorker:l.deleteWorker,toggleDialog:o.toggleDialog,setRegion:o.setRegion}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/jpeg;base64,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"},function(e,t,r){e.exports=' <div class=container v-el:container> <aside class=left-slider> <a href="" class=logo>后台管理</a> <div class=slider-view> <slider :menus=slider.menus :active=slider.active></slider> </div> </aside> <header class=top-nav v-el:header> <div class=nav-menu> <ul class=nav> <li v-if=auth.login> <a v-link="\'/admin/user/self\'"> <img src='+r(324)+' alt="" class=img-user style="display: none"> <strong>{{auth.name}}</strong> </a> </li> <li> <a v-link="\'/login\'" v-if=auth.login @click=logout>退出</a> <a v-link="\'/login\'" v-else>登录</a></li> </ul> </div> </header> <aside class=right-content v-el:content> <router-view keep-alive></router-view> </aside> <footer> <div class=footer v-el:footer> 信息管理系统 </div> </footer> <div class=slider-toggle @click=toggleSlider></div> <go-top :top=""></go-top> </div> '},function(e,t){e.exports=" <div id=app> <router-view></router-view> </div> <dialog :success=dialog.success :close=dialog.close :title=dialog.title :content=dialog.content :has-success-btn=dialog.hasSuccessBtn :has-close-btn=dialog.hasCloseBtn :show=dialog.show :auto=dialog.auto @dialog-close=onDialogClose> </dialog> "},function(e,t){e.exports=' <div class=login-box> <div class=login> <h3>陈工家具服务</h3> <form class="login-form form-vertical"> <div class="control-group normal-text"> <h3>后台系统登录</h3> </div> <div class=control-group> <div class=controls> <div class=main-input-box> <span class="add-on bg-lg"><i class=icon-user></i></span> <input type=text placeholder=请输入用户名 v-el:login_name/> </div> </div> </div> <div class=control-group> <div class=controls> <div class=main-input-box> <span class="add-on bg-ly"><i class=icon-lock></i></span> <input type=password placeholder=请输入密码 v-el:password @keydown.enter=onUserLogin /> </div> </div> </div> <div class=login-btn> <a href=javascript:void(0) class="btn btn-success" @click=onUserLogin>登录</a> </div> </form> </div> </div> '},function(e,t){e.exports=' <div class=breadcrumb> <a v-link="\'admin\'" class=tip-bottom><i class=icon-home></i>首页</a> <template v-for="menu in menus"> <a href=javascript:void(0); :class="{\'tip-bottom\': menu.name !== active,current: menu.name === active}"> {{menu.title}} </a> </template> </div> '},function(e,t){e.exports=' <div class=label-inline style=font-size:0> <label v-show=hasAll> <div class=checker> <span :class="{\'checked\': all === true}"> <input type=checkbox @click=checkAll :name=name value="" :disabled=readonly /> </span> </div> {{allText}} </label> <label v-for="radio in radios" track-by=$index> <div class=checker> <span :class="{\'checked\': ~checked.indexOf(radio.value)}"> <input type=checkbox @change="change($event, $index)" :name=name :value=radio.value :disabled=readonly /> </span> </div> {{radio.name}} </label> <label v-show=hasOther class=other-checkbox> <div class=checker> <span :class="{\'checked\': other}"> <input type=checkbox @change=checkOther :name=name :disabled=readonly /> </span> </div> 其他 <input type=text :disabled=!other :value=otherValue @input=onOtherText :placeholder=otherPlaceholder v-el:other/> </label> </div> '},function(e,t){e.exports=" <div class=content> <div class=content-header> <bread-crumb :menus=breads.menus :active=breads.active></bread-crumb> <h1>{{title}}</h1> </div> <div class=content-container> <hr/> <slot></slot> </div> </div> "},function(e,t){e.exports=' <div> <div class=modal v-if=show transition=show @click="hideDialog($event, \'close\')"> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <button type=button class=close @click=hideDialog><span>×</span></button> <h4 class=modal-title>{{title}}</h4> </div> <div class=modal-body> <p>{{content}}</p> </div> <div class=modal-footer v-if="hasSuccessBtn || hasCloseBtn"> <button type=button class="btn btn-default" v-if=hasCloseBtn @click=onCloseHandle>{{closeText}}</button> <button type=button class="btn btn-primary" v-if=hasSuccessBtn @click=onSuccessHandle>{{successText}}</button> </div> </div> </div> </div> <div class=modal-backdrop v-if=show @click="hideDialog($event, \'close\')" transition=show></div> </div> '},function(e,t){e.exports=' <div class=error_ex> <h1>{{message}}</h1> <a class="btn btn-warning btn-big" v-link=url>{{btnText}}</a> </div> '},function(e,t){e.exports=" <div class=uploader-identity> <span class=btn :class=classObject> {{title}} <input type=file :name=name :disabled=disabled @change=onUploadFile /> </span> </div> "},function(e,t){e.exports=" <content :breads=breads :title=title> <widget :title=title> <error :message=\"'无权限访问'\" :url=\"'/admin'\" :btn-text=\"'返回首页'\"></error> </widget> </content> "},function(e,t){e.exports=" <div class=go-up @click=goUp></div> "},function(e,t){e.exports=' <div class=pagination-box :class="{hide: isHide}"> <div class=pagination-info v-if=total> <span>共{{total}}条</span><span>当前展示第{{(curPage - 1 ) * pageSize + 1}}条到第{{curPage * pageSize > total ? total : curPage * pageSize}}条</span> </div> <div class=pagination> <a tabindex=0 class="first pg-button" :class="{\'pg-state-disabled\':isFirst}" @click="onPageClick($event, 1)" style="display: none">首页</a> <a tabindex=0 class="previous pg-button" :class="{\'pg-state-disabled\' :hasPre}" @click="onPageClick($event, \'pre\')" style="display: none">上一页</a> <span v-for="page in pages" track-by=$index> <a href=javascript:void(0) class=pg-button v-if="page.idx === \'so\'">...</a> <a class=pg-button :class="{\'pg-state-disabled\':page.isCurrent}" @click="onPageClick($event, page.idx)" v-else>{{page.idx}}</a> </span> <a tabindex=0 class="next pg-button" :class="{\'pg-state-disabled\':hasNext}" @click="onPageClick($event, \'next\')" style="display: none">下一页</a> <a tabindex=0 class="last pg-button" :class="{\'pg-state-disabled\':isLast}" @click="onPageClick($event, totalPage)" style="display: none">尾页</a> </div> </div> '},function(e,t){e.exports=' <div class=label-inline> <label v-for="radio in radios" track-by=$index> <div class=radio> <span :class="{\'checked\': radio.value === checked}"> <input type=radio @change="change($event, $index)" :name=name :value=radio.value :disabled=readonly /> </span> </div> {{radio.name}} </label> </div> '},function(e,t){e.exports=' <div class=region-box> <select class=form-control v-model=province @change=changeProvince :disabled=readonly> <option v-for="province in provinces" track-by=$index :value=province>{{province}}</option> </select> <select class=form-control v-model=city @change=changeCity :disabled=readonly> <option v-for="city in cities" track-by=$index :value=city>{{city}}</option> </select> <select class=form-control v-model=area @change=changeArea :disabled=readonly> <option v-for="area in areas" track-by=$index :value=area>{{area}}</option> </select> </div> '},function(e,t){e.exports=' <ul> <template v-for="menu in allMenus | filterMenus active" track-by=$index> <li :class="{submenu: menu.sub.length, \'open\': menu.close === false}"> <a href=javascript:void(0) @click.prevent="onItemClick($event, menu)"> <i class="icon icon-th-list"></i> <span>{{menu.title}}</span> </a> <ul v-show=menu.sub> <li v-for="sub in menu.sub" :class="{\'active\': sub.active === true}" track-by=$index> <a v-link=sub.name @click.prevent="onItemClick($event, sub)">{{sub.title}}</a> </li> </ul> </li> </template> </ul> '},function(e,t){e.exports=' <div class=widget-box slot=widget> <div class=widget-title><span class=icon><i :class=icon></i></span> <h5>{{title}}</h5> </div> <div class=widget-content :class="{nopadding: padding}"> <slot></slot> </div> </div> '},function(e,t){e.exports=' <content :breads=breads :title=title> <widget :title="\'订单信息\'"> <form class="form-horizontal order"> <div class=control-group v-if=!isNew> <label class=control-label>订单号</label> <div class=controls> <input type=text class=span5 placeholder=订单号 readonly=readonly @change="setData(\'orderNumber\', $event)" :value=order.orderNumber /> </div> </div> <div class=control-group> <label class=control-label>订单状态</label> <div class=controls> <radio-group :radios=orderStatus :name="\'orderStatus\'" :readonly=isQuery :checked=order.orderStatus @radio-checked=setOrderStatus></radio-group> </div> </div> <div class=control-group> <label class=control-label>订单类型</label> <div class="controls label-inline"> <radio-group :radios=serviceTypes :name="\'serviceType\'" :readonly=isQuery :checked=order.serviceType @radio-checked=setServiceType></radio-group> </div> </div> <div class=control-group-box> <div class=control-group> <label class=control-label>客户名称</label> <div class=controls> <input type=text :readonly=isQuery placeholder=客户名称 @change="setData(\'customerName\', $event)" :value=order.customerName /> </div> </div> <div class=control-group> <label class=control-label>客户电话</label> <div class=controls> <div class=customerPhoneNum> <input type=text placeholder=请输入11位手机号码 :readonly=isQuery @change="setData(\'customerPhoneNum\', $event)" :value=order.customerPhoneNum /> <div>请输入11位手机号码</div> </div> </div> </div> <div class=control-group> <label class=control-label>备用电话</label> <div class=controls> <input type=text placeholder=备用电话 :readonly=isQuery @change="setData(\'customerTel\', $event)" :value=order.customerTel /> </div> </div> </div> <div class=control-group> <label class=control-label>客户地址</label> <div class=controls> <input type=text style="width: 790px" placeholder=客户地址 :readonly=isQuery @change="setData(\'customerAddress\', $event)" :value=order.customerAddress /> </div> </div> <div class=control-group v-if="order.serviceType === \'配送安装\'"> <label class=control-label>产品信息</label> <div class=controls> <input type=text style="width: 692px" :readonly=isQuery @change="setData(\'productInfo\', $event)" :value=order.productInfo /> <file-upload title=添加图片 :name="\'productImgs\'" :disabled=isQuery :url=productUploadURL @file-upload-error=uploadError @file-upload-loading=uploadLoading @file-upload-success=uploadSuccess></file-upload> </div> <div class=controls-pics> <div class=controls-pics-item v-for="src in order.productImgs" track-by=$index v-show="src !== \'\'"> <a :href="src | orgPicture" target=_blank> <span v-if="src === \'loading\'"></span> <img :src=src alt="" v-else> </a> <a href=javascript:void(0) v-if=isEdit @click="onDealOrderImage(\'productImgs\', $index, \'del\')"><i class=icon-remove></i></a> </div> </div> </div> <div class=control-group v-if="order.serviceType === \'配送安装\'"> <label class=control-label>物流信息</label> <div class=controls> <input type=text style="width: 692px" :readonly=isQuery @change="setData(\'logisticsInfo\', $event)" :value=order.logisticsInfo /> <file-upload title=添加图片 :name="\'logisticsImgs\'" :disabled=isQuery :url=logisticsUploadURL @file-upload-error=uploadError @file-upload-loading=uploadLoading @file-upload-success=uploadSuccess></file-upload> </div> <div class=controls-pics> <div class=controls-pics-item v-for="src in order.logisticsImgs" track-by=$index v-show="src !== \'\'"> <a :href="src | orgPicture" target=_blank> <span v-if="src === \'loading\'"></span> <img :src=src alt="" v-else> </a> <a v-if=isEdit v-if=isEdit href=javascript:void(0) @click="onDealOrderImage(\'logisticsImgs\', $index, \'del\')"><i class=icon-remove></i></a> </div> </div> </div> <div class=control-group v-if="order.serviceType === \'维修\'"> <label class=control-label>维修信息</label> <div class=controls> <input type=text style="width: 692px" :readonly=isQuery @change="setData(\'repairInfo\', $event)" :value=order.repairInfo /> <file-upload title=添加图片 :name="\'repairImgs\'" :disabled=isQuery :url=repairUploadURL @file-upload-error=uploadError @file-upload-loading=uploadLoading @file-upload-success=uploadSuccess></file-upload> </div> <div class=controls-pics> <div class=controls-pics-item v-for="src in order.repairImgs" track-by=$index v-show="src !== \'\'"> <a :href="src | orgPicture" target=_blank> <span v-if="src === \'loading\'" class=loading></span> <img :src=src alt="" v-else> </a> <a v-if=isEdit href=javascript:void(0) @click="onDealOrderImage(\'repairImgs\', $index, \'del\')"><i class=icon-remove></i></a> </div> </div> </div> <div class=control-group> <label class=control-label>核销</label> <div class="controls label-inline"> <label> <div class=radio> <span :class="{checked: !order.checked}"> <input type=radio name=checked :disabled=isQuery value=0 @change="setData(\'checked\', $event)"/> </span> </div> 否 </label> <label> <div class=radio> <span :class="{checked: order.checked}"> <input type=radio :disabled=isQuery value=1 name=checked @change="setData(\'checked\', $event)"/> </span> </div> 是 <input type=text style="width: 375px" :readonly=isQuery placeholder=16位数字位1组，要是有多组，则用“;”隔开 :value=order.checkInfo v-show=order.checked @change="setData(\'checkInfo\', $event)"/> </label> </div> </div> <div class=control-group-box> <div class=control-group> <label class=control-label>商家信息</label> <div class=controls> <input type=text :readonly=isQuery placeholder=旺旺号 @change="setData(\'shopInfo\', $event)" :value=order.shopInfo /> </div> </div> <div class=control-group> <label class=control-label>QQ</label> <div class=controls> <input type=text :readonly=isQuery placeholder=QQ帐号 @change="setData(\'qq\', $event)" :value=order.qq /> </div> </div> </div> <div class=control-group-box> <div class=control-group> <label class=control-label>接单价</label> <div class=controls> <input type=text :readonly=isQuery placeholder=只能输入正整数 @change="setData(\'orderPrice\', $event)" :value=order.orderPrice /> </div> </div> <div class=control-group> <label class=control-label>服务价</label> <div class=controls> <input type=text :readonly=isQuery placeholder=只能输入正整数 @change="setData(\'servicePrice\', $event)" :value=order.servicePrice /> </div> </div> <div class=control-group> <label class=control-label>利润</label> <div class=controls> <input type=text :readonly=true placeholder=利润 @change="setData(\'profit\', $event)" :value=order.profit /> </div> </div> </div> <div class=control-group> <label class=control-label>价格变动原因</label> <div class=controls> <textarea style="width: 600px" :readonly=isQuery @change="setData(\'priceChangeReason\', $event)">{{order.priceChangeReason}}</textarea> </div> </div> <div class=control-group> <label class=control-label>订单评分</label> <div class=controls> <div class=detail-star> <div class=start v-if=!isQuery> <i v-for="idx in 5" track-by=$index @click=setJudgment($index)></i> </div> <div :style="{width: judgmentPercent + \'%\'}" class=detail-star-status></div> </div> </div> </div> <div class=control-group> <label class=control-label>评价备注</label> <div class=controls> <textarea style="width: 600px" :readonly=isQuery @change="setData(\'judgeReason\', $event)">{{order.judgeReason}}</textarea> </div> </div> <div class=control-group> <label class=control-label>备注</label> <div class=controls> <textarea style="width: 600px" :readonly=isQuery @change="setData(\'description\', $event)">{{order.description}}</textarea> </div> </div> <div class=control-group v-if=!isNew> <label class=control-label>创建人</label> <div class=controls> <input type=text style="width: 170px" placeholder=创建人 :value=order.user.name readonly=true /> </div> </div> <div class=control-group v-if=!isNew> <label class=control-label>创建时间</label> <div class=controls> <input type=date style="width: 170px" :value=order.createDate readonly=true /> </div> </div> <div class=control-group v-if=!isNew> <label class=control-label>完成时间</label> <div class=controls> <input type=date style="width: 170px" :value=order.completeDate readonly=true /> </div> </div> <div class=control-group> <label class=control-label>对接师傅</label> <div class=controls> <input type=text style="width: 170px" placeholder=对接师傅 readonly=true :value=order.workman.name /> </div> </div> <div class=form-title v-if=isEdit> <h3>选择对接师傅</h3> </div> <div class=control-group v-if=isEdit> <div class=control-box> <div class=search-table-box> <div class="dataTables-filter-wrap worker"> <div class=dataTables-filter> <label> <region @select-region=selectRegion :province.sync=province :region=region :sort-provinces=sortProvinces></region> <input type=hidden v-el:search_region :value=searchRegion /> <select class=form-control @change=setSearch v-el:search_service> <option v-for="type in searchServices" :selected="type.value === searchService" :value=type.value>{{type.name}}</option> </select> <input type=text style="width: 220px" placeholder=工号、师傅姓名、电话、服务地区 :value=searchKeyword @change=setSearch @keydown.enter=startSearchWorker(1) v-el:search/> <button type=button class="btn btn-info" @click=startSearchWorker(1)>搜索</button> <a v-link="\'/admin/worker/add?type=new\'" class="btn btn-success" target=_blank>新增</a> </label> </div> </div> <table class="table worker"> <thead> <tr> <th>工号</th> <th>名称</th> <th>电话</th> <th>qq</th> <th>服务地区</th> <th>服务类型</th> <th>合作</th> <th>备注</th> <th>操作</th> </tr> </thead> <tbody> <tr v-for="worker in workers.list"> <td> <a v-link="\'/admin/worker/\' + worker.id" target=_blank>{{worker.workmanNumber}}</a> </td> <td>{{worker.name}}</td> <td>{{worker.phoneNum}}</td> <td>{{worker.qq}}</td> <td style=width:220px>{{worker.serviceArea}}</td> <td style=width:60px>{{worker.serviceType}}</td> <td style=width:30px>{{worker.cooperateTimes}}</td> <td style="width: auto">{{worker.description}}</td> <td style="width: 30px"> <div> <a href=javascript:void(0) title=选中 :class="{\'checked\': worker.id === order.workman.id}" @click="setWorkman(worker.id, worker.name)"><i class=icon-check></i></a> </div> </td> </tr> </tbody> </table> <div class=fg-toolbar> <pagination :cur-page=workers.pageInfo.curPage :total=workers.pageInfo.total :page-size=workers.pageInfo.pageSize :total-page=workers.pageInfo.totalPage @go-page=startSearchWorker></pagination> </div> </div> </div> </div> <div class=form-actions> <button v-show=hasPermission type=button class="btn btn-success" @click=onSaveOrder() v-if=isEdit>保存</button> <a v-link="backUrl + \'?back=true\'" class="btn btn-success">返回</a> </div> </form> </widget> </content> ';
},function(e,t){e.exports=' <content :breads=breads :title=title> <widget :padding=false :title="\'订单列表\'"> <div class="dataTables-filter-wrap order"> <div class=dataTables-filter> <label> <select class=form-control v-el:order_status @change=setOrderStatus> <option :value="isPersonal ? allPersonalStatus : \'\'" selected=selected>全部状态</option> <option :value=status v-for="status in orderStatus | filterStatus \'select\'" track-by=$index>{{status}}</option> </select> <select class=form-control v-el:service_type> <option value="" selected=selected>全部类型</option> <option value=配送安装>配送安装</option> <option value=维修>维修</option> </select> <select class=form-control v-el:creator_id v-if=isPersonal> <option v-for="slave in slaves" :value=slave.id :selected="slave.id === orders.search.creatorId">{{slave.name}}</option> </select> <select class=form-control v-el:creator_id v-else> <option value="" selected=selected>全部</option> <option v-for="user in users.list" :value=user.id>{{user.name}}</option> </select> <input type=text v-el:begin_time placeholder=开始时间 style=width:80px onclick=WdatePicker() readonly=true /> 至 <input type=text v-el:end_time placeholder=截止时间 style=width:80px onclick=WdatePicker() readonly=true /> <input type=text @keydown.enter=startSearchOrder(1) v-el:search/> <button type=button class="btn btn-info" @click=startSearchOrder(1)>搜索</button> <a v-show=hasPermission v-link="detailUrl + \'/add\'" class="btn btn-info">新增</a> </label> </div> </div> <div class=operation-list v-el:order_operation @mouseover=keepOperaShow @mouseout=hideOrderOpera> <a href=javascript:void(0) track-by=$index v-for="status in orderStatus | filterStatus \'change\' " :title="\'status\'" @click=onDealOrder(status)><i class=icon-link></i>{{status}}</a> </div> <div class=operation-list v-el:order_comment @mouseover=keepCommentShow @mouseout=hideOrderComment> <div class=operation-comment-area> <span>备注</span> <button class="btn btn-sm btn-success" @click=onSaveComment>保存</button> </div> <textarea name=operation_comment v-el:operation_comment></textarea> </div> <table class="table with-check order"> <thead> <tr> <th> <div class=checker> <span :class="{checked: checkAll}"><input type=checkbox :checked=checkAll name=title-table-checkbox @change="toggleCheck($event, \'\')"></span> </div> </th> <th>订单号</th> <th>商家信息</th> <th>接单价<i class=priceSplit style=vertical-align:middle></i>服务价</th> <th>师傅</th> <th>详情</th> <th v-show=hasPermission class=operation-group>操作</th> </tr> </thead> <tbody> <tr v-for="order in orders.list"> <td> <div class=checker> <span :class="{checked: order.isChecked}"><input type=checkbox :checked=order.isChecked @change="toggleCheck($event, order.id)"></span> </div> </td> <td><a v-link="detailUrl + \'/\' + order.id + \'?creatorId=\' + order.user.id">{{order.orderNumber}}</a></td> <td> <div> <p>{{order.shopInfo}}</p> <p>{{order.qq}}</p> </div> </td> <td><span class=orderPrice :class="{\'change\': order.orderPriceChanged}">{{order.orderPrice}}</span><i class=priceSplit></i><span class=servicePrice :class="{\'change\': order.servicePriceChanged}">{{order.servicePrice}}</span></td> <td style=width:20%> <div v-if=isPersonal> <p>{{order.workman.name}}</p> <p>{{order.workman.phoneNum}}</p> </div> <div v-else> <div v-if="order.workman.receiveType === 1"> <p><span>{{order.workman.bankCardName}}</span><span>{{order.workman.bank}}</span></p> <p>{{order.workman.cardNum}}</p> </div> <div v-else> <p>{{order.workman.alipayAccountName}}</p> <p>{{order.workman.alipayAccount}}</p> </div> </div> </td> <td class=description> <div> <span>{{order.customerName}}</span> <span>{{order.customerPhoneNum}}</span> <span>{{order.customerTel}}</span> <span>{{order.customerAddress}}</span> <span v-if="order.serviceType === \'配送安装\'">{{order.productInfo}}</span> <span v-if="order.serviceType === \'配送安装\'">{{order.logisticsInfo}}</span> <span v-if="order.serviceType === \'维修\'">{{order.repairInfo}}</span> <span v-if=order.checked>{{order.checkInfo}}</span> </div> </td> <td v-show=hasPermission class=operation-group-td> <div class=operation-group> <a href=javascript:void(0) @mouseout=hideOrderOpera @mouseover="showOrderOpera($event, order.id, order.orderStatus)"><i class=icon-th-list></i>操作</a> <a href=javascript:void(0) @mouseout=hideOrderComment @mouseover="showOrderComment($event, order.id, order.description)"><i class=icon-flag :class="{\'red\': order.description}"></i>备注</a> </div> </td> </tr> </tbody> </table> <div class=fg-toolbar> <div class=fg-toolbar-operation v-show=hasPermission> <select class=form-control v-el:action> <option value=删除 selected=selected>删除</option> <option :value=status v-for="status in orderStatus | filterStatus \'batch\'" track-by=$index>{{status}}</option> </select> <button type=button class="btn btn-success" @click=onDealBatch()>批量操作</button> </div> <pagination :cur-page=orders.pageInfo.curPage :total=orders.pageInfo.total :page-size=orders.pageInfo.pageSize :total-page=orders.pageInfo.totalPage @go-page=startSearchOrder></pagination> </div> </widget> </content> '},function(e,t){e.exports=' <content :breads=breads :title=title> <widget :title="\'角色信息\'"> <form class=form-horizontal> <div class=control-group> <label class=control-label>角色名</label> <div class=controls> <input type=text class=span5 :value=role.name :readonly=isQuery placeholder=角色名 v-el:name> </div> </div> <div class=control-group> <label class=control-label>描述</label> <div class=controls> <textarea class=span10 v-el:description :readonly=isQuery>{{role.description}}</textarea> </div> </div> <div class=control-group v-if=isEdit> <label class=control-label>添加权限</label> <div class=controls> <div class="control-box span10"> <div class=search-table-box> <div class=dataTables-filter-wrap> <div class=dataTables-filter> <label> <input type=text @keydown.enter=startSearchPermission(1) v-el:search/> <button type=button class="btn btn-info" @click=startSearchPermission(1)>搜索</button> </label> </div> </div> <table class="table permission"> <thead> <tr> <th>权限</th> <th>描述</th> <th class=operation-group>操作</th> </tr> </thead> <tbody> <tr v-for="permission in permissions.list"> <td>{{permission.name}}</td> <td>{{permission.description}}</td> <td class=operation-group-td style=width:50px> <div class=operation-group> <a href=javascript:void(0) title=添加 @click=addRelPermission(permission)><i class=icon-plus></i></a> </div> </td> </tr> </tbody> </table> <div class=fg-toolbar> <pagination :total=permissions.pageInfo.total :page-size=permissions.pageInfo.pageSize :cur-page=permissions.pageInfo.curPage :total-page=permissions.pageInfo.totalPage @go-page=startSearchPermission></pagination> </div> </div> </div> </div> </div>  <div class=control-group> <label class=control-label>已分配权限</label> <div class=controls> <ul class=relation-list v-show=isEdit> <li v-for="permission in role.permissions" @click=deleteRelPermission(permission.id)> <i class=icon-remove></i>{{permission.name}} </li> </ul> <ul class=relation-list v-else> <li v-for="permission in role.permissions">{{permission.name}}</li> </ul> </div> </div> <div class=form-actions> <button type=button class="btn btn-success" @click=onSaveRole v-if=isEdit>保存</button> <a v-link="{path: \'/admin/role\', query: {back: true}}" class="btn btn-success">返回</a> </div> </form> </widget> </content> '},function(e,t){e.exports=' <content :breads=breads :title=title> <widget :padding=false :title="\'角色列表\'"> <div class=dataTables-filter-wrap> <div class=dataTables-filter> <label> <input type=text v-el:search @keydown.enter=startSearchRole(1) /> <button type=button class="btn btn-info" @click=startSearchRole(1)>搜索</button> </label> </div> </div> <table class="table with-check role"> <thead> <tr> <th> <div class=checker> <span :class="{checked: checkAll}"><input type=checkbox :checked=checkAll name=title-table-checkbox @change="toggleCheck($event, \'\')"></span> </div> </th> <th>角色名称</th> <th class=desc>描述</th> <th class=operation-group>操作</th> </tr> </thead> <tbody> <tr v-for="role in roles.list"> <td> <div class=checker> <span :class="{checked: role.checked}"><input type=checkbox :checked=role.checked @change="toggleCheck($event, role.id)"></span> </div> </td> <td>{{role.name}}</td> <td class=description>{{role.description}}</td> <td class=operation-group-td> <div class=operation-group> <a v-link="\'/admin/role/\' + role.id + \'?type=query\'" title=详情><i class=icon-search></i></a> <a v-show=permission.roleManager v-link="\'/admin/role/\' + role.id + \'?type=edit\'" title=更新><i class=icon-pencil></i></a> <a v-show=permission.roleManager href=javascript:void(0) title=删除 @click=onDeleteRole(role.id)><i class=icon-remove></i></a> </div> </td> </tr> </tbody> </table> <div class=fg-toolbar> <div class=fg-toolbar-operation> <button type=button class="btn btn-success" @click=onDeleteRole() v-show=permission.roleManager>删除</button> <a v-link="\'/admin/role/add?type=new\'" class="btn btn-success" v-show=permission.roleManager>新增</a> </div> <pagination :cur-page=roles.pageInfo.curPage :page-size=roles.pageInfo.pageSize :total=roles.pageInfo.total :total-page=roles.pageInfo.totalPage @go-page=startSearchRole></pagination> </div>  </widget> </content> '},function(e,t){e.exports=' <content :breads=breads :title=title> <widget :padding=true :title=title> <form class=form-horizontal> <div class=control-group> <div class="controls creators"> <radio-group :radios=creators :name="\'creatorId\'" @radio-checked=setCreatorId :checked=search.creatorId></radio-group> </div> </div> <div class=control-group> <div class=controls> <radio-group :radios=serviceTypes :name="\'serviceType\'" @radio-checked=setServerType :checked=search.serviceType></radio-group> </div> </div> <div class=control-group> <div class="controls label-inline"> <label> <input type=text placeholder=订单完成时间：起（包含） onclick=WdatePicker() readonly=true v-el:beging/> </label> <label>至</label> <label> <input type=text onclick=WdatePicker() placeholder=订单完成时间：止（包含） readonly=true v-el:end/> </label> </div> </div> <div class=control-group> <div class=controls> <radio-group :name="\'searchType\'" :radios=searchTypes @radio-checked=setSearchType :checked=search.searchType></radio-group> </div> </div> <div class=form-actions> <input type=button class="btn btn-success btn-large" @click=onStartStatistic value=开始统计 v-if=state /> <input type=button class="btn btn-success btn-large" value=统计中... v-else/> <div class=statistics-result> 统计结果： <div> <label>{{this.searchTypesObject[search.searchType]}}：</label> <input type=text :value=value readonly=readonly /> <label> {{unit}} </label> </div> </div> </div> </form> </widget> </content> '},function(e,t){e.exports=' <content :breads=breads :title=title> <widget :padding=false :title="\'用户信息\'"> <form class=form-horizontal> <div class=control-group> <label class=control-label>登录名</label> <div class=controls> <input type=text class=span5 :value=user.loginName :readonly=!isEdit placeholder=登录名 v-el:login_name> </div> </div> <div class=control-group> <label class=control-label>手机</label> <div class=controls> <input type=text :value=user.phoneNum class=span5 :readonly=isQuery @change="setData(\'phoneNum\', $event)" placeholder=请输入11位手机号码 v-el:phone_num> </div> </div> <div class=control-group> <label class=control-label>身份证</label> <div class=controls> <input type=text :value=user.identity class=span5 :readonly=isQuery placeholder=身份证 v-el:identity> </div> </div> <div class=control-group> <label class=control-label>姓名</label> <div class=controls> <input type=text :value=user.name class=span5 :readonly=isQuery placeholder=姓名 v-el:name> </div> </div> <div class=control-group> <label class=control-label>密码</label> <div class=controls> <input type=password :value=user.password :readonly=isQuery class=span5 placeholder=密码 v-el:password> </div> </div> <div class=control-group> <label class=control-label>描述</label> <div class=controls> <textarea class=span10 :readonly=isQuery v-el:description>{{user.description}}</textarea> </div> </div> <div class=control-group v-if=isEdit> <label class=control-label>添加角色</label> <div class=controls> <div class="control-box span10"> <div class=search-table-box> <div class=dataTables-filter-wrap> <label> <input type=text @keydown.enter=startSearchRole(1) v-el:search_role/> <button type=button class="btn btn-info" @click=startSearchRole(1)>搜索</button> </label> </div> <table class=table> <thead> <tr> <th>角色</th> <th class=desc>描述</th> <th class=operation-group>操作</th> </tr> </thead> <tbody> <tr v-for="role in roles.list"> <td>{{role.name}}</td> <td> <div class=desc>{{role.description}}</div> </td> <td> <div class=operation-group> <a href=javascript:void(0) title=添加 @click=addRelRole(role)><i class=icon-plus></i></a> </div> </td> </tr> </tbody> </table> <div class=fg-toolbar> <pagination :total=roles.pageInfo.total :page-size=roles.pageInfo.pageSize :cur-page=roles.pageInfo.curPage :total-page=roles.pageInfo.totalPage @go-page=startSearchRole></pagination> </div> </div> </div> </div> </div> <div class=control-group> <label class=control-label>已担当角色</label> <div class=controls> <ul class=relation-list v-show=isEdit> <li v-for="role in user.roles" @click=deleteRelRole(role.id)> <i class=icon-remove></i>{{role.name}} </li> </ul> <ul class=relation-list v-else> <li v-for="role in user.roles">{{role.name}}</li> </ul> </div> </div> <div class=control-group v-if=isEdit> <label class=control-label>关联个人订单</label> <div class=controls> <div class="control-box span10"> <div class=search-table-box> <div class=dataTables-filter-wrap> <label> <input type=text @keydown.enter=startSearchUser(1) v-el:search_user/> <button type=button class="btn btn-info" @click=startSearchUser(1)>搜索</button> </label> </div> <table class=table> <thead> <tr> <th>用户名</th> <th>姓名</th> <th>电话</th> <th class=operation-group>操作</th> </tr> </thead> <tbody> <tr v-for="user in users.list"> <td>{{user.loginName}}</td> <td>{{user.name}}</td> <td>{{user.phoneNum}}</td> <td> <div class=operation-group> <a href=javascript:void(0) title=添加 @click=addRelSlave(user)><i class=icon-plus></i></a> </div> </td> </tr> </tbody> </table> <div class=fg-toolbar> <pagination :cur-page=users.pageInfo.curPage :total-page=users.pageInfo.totalPage @go-page=startSearchUser></pagination> </div> </div> </div> </div> </div> <div class=control-group> <label class=control-label>已关联个人订单</label> <div class=controls> <ul class=relation-list> <li v-for="slave in user.slaves"> <i class=icon-remove v-if=isEdit @click=deleteRelSlave(slave.id)></i>{{slave.name}} </li> </ul> </div> </div> <div class=form-actions> <button type=button class="btn btn-success" @click=onSaveUser v-if=!isQuery>保存</button> <a v-link="{path: \'/admin/user\', query: {back: true}}" class="btn btn-success">返回</a> </div> </form> </widget> </content> '},function(e,t){e.exports=' <content :breads=breads :title=title> <widget :padding=false :title="\'用户列表\'"> <div class=dataTables-filter-wrap> <div class=dataTables-filter> <label> <input type=text v-el:search @keydown.enter=startSearchUser(1) /> <button type=button class="btn btn-info" @click=startSearchUser(1)>搜索</button> </label> </div> </div>  <table class="table with-check user"> <thead> <tr> <th> <div class=checker> <span :class="{checked: checkAll}"><input type=checkbox :checked=checkAll name=title-table-checkbox @change="toggleCheck($event, \'\')"></span> </div> </th> <th>用户名</th> <th class=desc>姓名</th> <th class=desc>手机</th> <th class=operation-group>操作</th> </tr> </thead> <tbody> <tr v-for="user in users.list"> <td> <div class=checker> <span :class="{checked: user.checked}"><input type=checkbox :checked=user.checked @change="toggleCheck($event, user.id)"></span> </div> </td> <td>{{user.loginName}}</td> <td>{{user.name}}</td> <td>{{user.phoneNum}}</td> <td class=operation-group-td> <div class=operation-group> <a v-link="\'/admin/user/\' + user.id + \'?type=query\'" title=详情><i class=icon-search></i></a> <a v-link="\'/admin/user/\' + user.id + \'?type=edit\'" title=更新><i class=icon-pencil></i></a> <a href=javascript:void(0) title=删除 @click=onDeleteUser(user.id)><i class=icon-remove></i></a> </div> </td> </tr> </tbody> </table> <div class=fg-toolbar> <div class=fg-toolbar-operation> <button type=button class="btn btn-success" @click=onDeleteUser()>删除</button> <a v-link="\'/admin/user/add?type=new\'" class="btn btn-success">新增</a> </div> <pagination :cur-page=users.pageInfo.curPage :page-size=users.pageInfo.pageSize :total=users.pageInfo.total :total-page=users.pageInfo.totalPage @go-page=startSearchUser></pagination> </div>  </widget> </content> '},function(e,t){e.exports=' <content :breads=breads :title=title> <widget :title="\'师傅信息\'"> <form class=form-horizontal> <div class=form-title> <h2>个人信息</h2> </div> <div class=control-group v-if=!isNew> <label class=control-label>工号</label> <div class=controls> <input type=text style="width: 185px" placeholder=工号 readonly=true :value=worker.workmanNumber /> </div> </div> <div class=control-group-box> <div class=control-group> <label class=control-label>姓名</label> <div class=controls> <input type=text class=span12 placeholder=请输入真实姓名 :readonly=isQuery :value=worker.name @change="setData(\'name\', $event)"/> </div> </div> <div class=control-group> <label class=control-label>手机</label> <div class=controls> <input type=text class=span12 placeholder=请输入11位手机号码 :readonly=isQuery :value=worker.phoneNum @change="setData(\'phoneNum\', $event)"/> </div> </div> <div class=control-group> <label class=control-label>QQ</label> <div class=controls> <input type=text class=span12 placeholder=QQ :readonly=isQuery :value=worker.qq @change="setData(\'qq\', $event)"/> </div> </div> </div> <div class=control-group> <label class="control-label uploader-identity-wrap"> <file-upload :name="\'headImg\'" :disabled=isQuery title=头像 url=/workman/upload/headImg @file-upload-error=uploadError @file-upload-loading=upload @file-upload-success=upload></file-upload> </label> <div class=controls> <a class="identity-box headImg" :href="worker.headImg | orgPicture" target=_blank> <span v-if="worker.headImg === \'loading\'" class=loading></span> <img :src=worker.headImg alt="" v-else> </a> </div> </div> <div class=control-group> <label class=control-label>收款账号</label> <div class=controls> <label> <div class=radio> <span :class="{checked: worker.receiveType === 0}"> <input value=0 :readonly=isQuery type=radio name=receiveType :checked="worker.receiveType === 0" @change="setData(\'receiveType\', $event)"> </span> </div> <input type=text :readonly="worker.receiveType === 1 || isQuery" style="width: 426px" placeholder=支付宝帐号 :value=worker.alipayAccount @change="setData(\'alipayAccount\', $event)"/> <input type=text :readonly="worker.receiveType === 1 || isQuery" style="width: 185px" placeholder=支付宝帐号名称 :value=worker.alipayAccountName @change="setData(\'alipayAccountName\', $event)"/> </label> <label> <div class=radio> <span :class="{checked: worker.receiveType === 1}"> <input value=1 :readonly=isQuery type=radio name=receiveType :checked="worker.receiveType === 1" @change="setData(\'receiveType\', $event)"> </span> </div> 银行卡 <input :readonly="worker.receiveType === 0 || isQuery" style="width: 185px" type=text placeholder=银行名称 :value=worker.bank @change="setData(\'bank\', $event)"/> <input :readonly="worker.receiveType === 0 || isQuery" style="width: 185px" type=text placeholder=银行卡帐号名称 :value=worker.bankCardName @change="setData(\'bankCardName\', $event)"/> <input :readonly="worker.receiveType === 0 || isQuery" style="width: 185px" type=text placeholder=银行卡帐号 :value=newCardNum @change="setData(\'cardNum\', $event)"/> </label> </div> </div> <div class=control-group> <label class=control-label>出生日期</label> <div class=controls> <input type=text :value=worker.birthday style="width: 185px" :readonly=true @change="setData(\'birthday\', $event)" onclick=WdatePicker() v-el:birthday/> </div> </div> <div class=control-group> <label class=control-label>所在地</label> <div class=controls> <region :sort-provinces=sortProvinces :readonly=isQuery :region=region :province=worker.province :city=worker.city :area=worker.area @select-region=selectRegion></region> </div> </div> <div class=control-group> <label class=control-label>详细地址</label> <div class=controls> <input type=text :readonly=isQuery class=span5 placeholder=详细地址 :value=worker.address @change="setData(\'address\', $event)"/> </div> </div> <div class=control-group> <label class="control-label uploader-identity-wrap"> <file-upload :name="\'idCardFace\'" :disabled=isQuery title=身份证正面 url=/workman/upload/idCardFace @file-upload-error=uploadError @file-upload-loading=upload @file-upload-success=upload></file-upload> </label> <div class=controls> <a class=identity-box :href="worker.idCardFace | orgPicture" target=_blank> <span v-if="worker.idCardFace === \'loading\'" class=loading></span> <img :src=worker.idCardFace alt="" v-else> </a> <div class=inner-control-group> <label class=control-label> <file-upload :name="\'idCardBack\'" :disabled=isQuery title=身份证背面 url=/workman/upload/idCardBack @file-upload-error=uploadError @file-upload-loading=upload @file-upload-success=upload></file-upload> </label> <div class=controls style=padding-top:0> <a class=identity-box :href="worker.idCardBack | orgPicture" target=_blank> <span v-if="worker.idCardBack === \'loading\'" class=loading></span> <img :src=worker.idCardBack alt="" v-else> </a> </div> </div> </div> </div> <div class=form-title> <h2>服务信息</h2> </div> <div class=control-group> <label class=control-label>服务类型</label> <div class="controls service-region-radio"> <checkbox-group :readonly=isQuery :has-all=true :radios=serviceTypes :all.sync=checkAll.serviceType.all :name="\'serviceType\'" :checked="worker.serviceType | toArray" @radio-checked=setServiceType></checkbox-group> </div> </div> <div class=control-group> <label class=control-label>服务区域</label> <div class="controls service-region-radio" v-if="service_areas.length !== 0"> <checkbox-group :readonly=isQuery :radios=service_areas :has-all=true :all.sync=checkAll.serviceArea.all :name="\'serviceArea\'" :checked="worker.serviceArea | toArray" @radio-checked=setServiceArea></checkbox-group> </div> <label class=controls v-else style="padding: 15px 0 5px;color:red">请先选择所在所在城市</label> </div> <div class=form-title> <h3>服务项目</h3> </div> <div class=control-group> <label class=control-label>家具类</label> <div class="controls service-region-radio"> <checkbox-group :readonly=isQuery :has-other=true :other-placeholder="\'多个项目可用分号隔开\'" :has-all=true :radios=furnitureTypes :all.sync=checkAll.furnitureType.all :name="\'furnitureType\'" :other.sync=allCheckboxesOther.furnitureType.otherCheck :other-value=allCheckboxes.furnitureType.other :checked=allCheckboxes.furnitureType.checked @radio-checked=setFurnitureType></checkbox-group> </div> </div> <div class=control-group> <label class=control-label>灯具类</label> <div class="controls service-region-radio"> <checkbox-group :readonly=isQuery :has-other=true :has-all=true :other-placeholder="\'多个项目可用分号隔开\'" :radios=lightTypes :all.sync=checkAll.lightType.all :name="\'lightType\'" :other-value=allCheckboxes.lightType.other :other.sync=allCheckboxesOther.lightType.otherCheck :checked=allCheckboxes.lightType.checked @radio-checked=setLightType></checkbox-group> </div> </div> <div class=control-group> <label class=control-label>卫浴类</label> <div class="controls service-region-radio"> <checkbox-group :has-other=true :has-all=true :readonly=isQuery :other-placeholder="\'多个项目可用分号隔开\'" :radios=stoolTypes :all.sync=checkAll.stoolType.all :name="\'stoolType\'" :other-value=allCheckboxes.stoolType.other :other.sync=allCheckboxesOther.stoolType.otherCheck :checked=allCheckboxes.stoolType.checked @radio-checked=setStoolType></checkbox-group> </div> </div> <div class=control-group> <label class=control-label>门窗五金</label> <div class="controls service-region-radio"> <checkbox-group :has-other=true :has-all=true :readonly=isQuery :other-placeholder="\'多个项目可用分号隔开\'" :radios=metalsTypes :all.sync=checkAll.metalsType.all :name="\'metalsType\'" :other-value=allCheckboxes.metalsType.other :other.sync=allCheckboxesOther.metalsType.otherCheck :checked=allCheckboxes.metalsType.checked @radio-checked=setMetalsType></checkbox-group> </div> </div> <div class=control-group> <label class=control-label>家电</label> <div class="controls service-region-radio"> <checkbox-group :has-other=true :has-all=true :readonly=isQuery :other-placeholder="\'多个项目可用分号隔开\'" :radios=householdTypes :all.sync=checkAll.householdType.all :name="\'householdType\'" :other-value=allCheckboxes.householdType.other :other.sync=allCheckboxesOther.householdType.otherCheck :checked=allCheckboxes.householdType.checked @radio-checked=setHouseholdType></checkbox-group> </div> </div> <div class=control-group-box> <div class=control-group> <label class=control-label>团队人数</label> <div class=controls> <input type=text style=width:100px :readonly=isQuery placeholder=只能输入正整数 :value=worker.teamPeopleNum @change="setData(\'teamPeopleNum\', $event)"/> 人 </div> </div> <div class=control-group> <label class=control-label>货车数量</label> <div class=controls> <input type=text style=width:100px :readonly=isQuery placeholder=只能输入正整数 :value=worker.truckNum @change="setData(\'truckNum\', $event)"/> 辆 </div> </div> <div class=control-group> <label class=control-label>货车吨位</label> <div class=controls> <input type=text style="width: 100px" :readonly=isQuery placeholder=只能输入数字 :value=worker.tonnage @change="setData(\'tonnage\', $event)"/> 吨 </div> </div> </div> <div class=control-group> <label class=control-label>推荐提货点</label> <div class=controls> <input type=text style=width:480px placeholder=推荐提货点 :readonly=isQuery :value=worker.willingPickAddress @change="setData(\'willingPickAddress\', $event)"/> </div> </div> <div class=control-group> <label class=control-label>推荐物流</label> <div class=controls> <input type=text style=width:480px placeholder=推荐物流 :readonly=isQuery :value=worker.logistics @change="setData(\'logistics\', $event)"/> </div> </div> <div class=control-group> <label class=control-label>优势</label> <div class=controls> <textarea name="" style="width: 480px" :readonly=isQuery @change="setData(\'strength\', $event)">{{worker.strength}}</textarea> </div> </div> <div class=control-group> <label class=control-label>备注</label> <div class=controls> <textarea name="" style="width: 480px" :readonly=isQuery @change="setData(\'description\', $event)">{{worker.description}}</textarea> </div> </div> <div class=control-group-box v-if="isNew === false"> <div class=control-group> <label class=control-label>合作次数</label> <div class=controls> <input type=text placeholder=合作次数 :readonly=true :value=worker.cooperateTimes @change="setData(\'cooperateTimes\', $event)"/> </div> </div> <div class=control-group> <label class=control-label>综合评分</label> <div class=controls> <input type=text placeholder=综合评分 :readonly=true :value=worker.score @change="setData(\'score\', $event)"/> </div> </div> </div> <div class=form-title v-if="mode === \'edit\'"> <h3>历史订单</h3> </div> <div class="control-group order" v-if="mode === \'edit\'"> <div class=control-box> <div class=search-table-box> <div class="dataTables-filter-wrap order"> <div class=dataTables-filter> <label> <select class=form-control v-el:order_status> <option value="" selected=selected>全部状态</option> <option :value=status v-for="status in orderStatus" track-by=$index>{{status}}</option> </select> <select class=form-control v-el:service_type> <option value="" selected=selected>全部类型</option> <option value=配送安装>配送安装</option> <option value=维修>维修</option> </select> <select class=form-control v-el:creator_id v-if=isPersonal> <option value="" selected=selected>全部</option> <option v-for="slave in slaves" :value=slave.id>{{slave.name}}</option> </select> <select class=form-control v-el:creator_id v-else> <option value="" selected=selected>全部</option> <option v-for="user in users.list" :value=user.id>{{user.name}}</option> </select> <input type=text v-el:begin_time placeholder=开始时间 style=width:80px onclick=WdatePicker() readonly=true /> 至 <input type=text v-el:end_time placeholder=截止时间 style=width:80px onclick=WdatePicker() readonly=true /> <input type=text @keydown.enter=startSearchOrder(1) v-el:search/> <button type=button class="btn btn-info" @click=startSearchOrder(1)>搜索</button> <a v-show=hasPermission v-link="detailUrl + \'/add\'" class="btn btn-info">新增</a> </label> </div> </div> <table class="table order"> <thead> <tr> <th>订单号</th> <th>商家信息</th> <th>接单价/服务价</th> <th>师傅</th> <th>详情</th> </tr> </thead> <tbody> <tr v-for="order in orders.list"> <td><a v-link="\'/admin/order/\' + order.id" target=_blank>{{order.orderNumber}}</a></td> <td>{{order.shopInfo}}</td> <td><span class=orderPrice :class="{\'change\': order.orderPriceChanged}">{{order.orderPrice}}</span>/<span class=servicePrice :class="{\'change\': order.servicePriceChanged}">{{order.servicePrice}}</span></td> <td>{{order.orderNumber}}</td> <td class=description> <span>{{order.customerName}}</span><span>{{order.customerPhoneNum}}</span><span>{{order.customerAddress}}</span> </td> </tr> </tbody> </table> <div class=fg-toolbar> <pagination :cur-page=orders.pageInfo.curPage :total=orders.pageInfo.total :page-size=orders.pageInfo.pageSize :total-page=orders.pageInfo.totalPage @go-page=startSearchOrder></pagination> </div> </div> </div> </div> <div class=form-actions> <button type=button class="btn btn-success" @click=onSaveWorker v-if=isEdit>保存</button> <a v-link="backUrl + \'?back=true\'" class="btn btn-success">返回</a> </div> </form> </widget> </content> '},function(e,t){e.exports=' <content :breads=breads :title=title> <widget :padding=false :title="\'师傅列表\'"> <div class=dataTables-filter-wrap> <div class=dataTables-filter> <label> <region @select-region=selectRegion :region=region :sort-provinces=sortProvinces></region> <input type=hidden v-el:search_region/> <select class=form-control v-el:search_service> <option value="" selected=selected>全部</option> <option value=配送安装>配送安装</option> <option value=维修>维修</option> </select> <input type=text style="width: 220px" placeholder=工号、师傅姓名、电话、服务地区 @keydown.enter=startSearchWorker(1) v-el:search/> <button type=button class="btn btn-info" @click=startSearchWorker(1)>搜索</button> <a v-show=permission.workmanManager v-link="\'/admin/worker/add?type=new\'" class="btn btn-success">新增</a> </label> </div> </div> <table class="table with-check worker"> <thead> <tr> <th> <div class=checker> <span :class="{checked: checkAll}"><input type=checkbox :checked=checkAll name=title-table-checkbox @change="toggleCheck($event, \'\')"></span> </div> </th> <th>工号</th> <th>名称</th> <th>电话</th> <th>qq</th> <th>服务地区</th> <th>服务类型</th> <th>合作</th> <th>备注</th> </tr> </thead> <tbody> <tr v-for="worker in workers.list"> <td> <div class=checker> <span :class="{checked: worker.checked}"><input type=checkbox :checked=worker.checked @change="toggleCheck($event, worker.id)"></span> </div> </td> <td><a v-link="\'/admin/worker/\' + worker.id">{{worker.workmanNumber}}</a></td> <td>{{worker.name}}</td> <td>{{worker.phoneNum}}</td> <td>{{worker.qq}}</td> <td style=width:220px>{{worker.serviceArea}}</td> <td style=width:60px>{{worker.serviceType}}</td> <td style=width:30px>{{worker.cooperateTimes}}</td> <td class=description>{{worker.description}}</td> </tr> </tbody> </table> <div class=fg-toolbar> <div class=fg-toolbar-operation v-show=permission.workmanManager> <button type=button class="btn btn-success" @click=onDeleteWorker()>批量删除</button> </div> <pagination :cur-page=workers.pageInfo.curPage :total=workers.pageInfo.total :page-size=workers.pageInfo.pageSize :total-page=workers.pageInfo.totalPage @go-page=startSearchWorker></pagination> </div>  </widget> </content> '},function(e,t,r){var a,o;a=r(150),o=r(325),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;r(222),a=r(151),o=r(326),e.exports=a||{},
e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;r(223),a=r(152),o=r(327),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(153),o=r(328),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;r(224),a=r(154),o=r(329),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(156),o=r(331),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(157),o=r(332),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(159),o=r(334),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(160),o=r(335),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(164),o=r(339),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;r(227),a=r(166),o=r(341),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;r(228),a=r(167),o=r(342),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(168),o=r(343),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(169),o=r(344),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(170),o=r(345),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(171),o=r(346),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(172),o=r(347),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;a=r(173),o=r(348),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)},function(e,t,r){var a,o;r(229),a=r(174),o=r(349),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports["default"]),o&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=o)}]);